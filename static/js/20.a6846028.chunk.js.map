{"version":3,"sources":["components/Row/index.tsx","components/Column/index.tsx","components/SearchModal/styleds.tsx","state/transactions/hooks.tsx","components/Modal/index.tsx","hooks/useENS.ts","hooks/useENSAddress.ts","components/AddressInputPanel/styleds.tsx","components/AddressInputPanel/index.tsx","utils/wallets/ledger/index.js","../node_modules/react-bootstrap/esm/ListGroupItem.js","../node_modules/react-bootstrap/esm/ListGroup.js","utils/web3/index.js","utils/web3/txns.js","assets/images/cross/swap.svg","utils/wallets/public/walletCreate.js","utils/wallets/ethereum/wallet.js","utils/wallets/ethUtil/index.js","../node_modules/scryptsy/lib/scrypt.js","utils/wallets/ledger/ledger3.js","utils/wallets/ledger/ledger-eth.js","utils/record/index.js","components/BridgeCurrencySelectModal/styleds.tsx","components/BridgeCurrencySelectModal/CurrencyRow.tsx","components/BridgeCurrencySelectModal/CurrencyList.tsx","assets/images/cross/dropdown.svg","components/BridgeCurrencySelectModal/CurrencySelectModal.tsx","components/BridgeCurrencySelectModal/index.tsx","components/BridgeInputPanel/styleds.tsx","components/BridgeInputPanel/index.tsx","components/BridgeInputPanel/BridgeInputPanel.tsx","assets/images/icon/path.svg","components/HardwareTips/styleds.tsx","components/HardwareTips/index.tsx","components/WarningTip/WarningTip.tsx","components/WarningTip/index.tsx","pages/CrossAnySwap/index.js"],"names":["Row","styled","Box","width","align","justify","padding","border","borderRadius","RowBetween","AutoRow","div","gap","RowFixed","Column","ColumnCenter","AutoColumn","TextDot","theme","text2","Checkbox","primary","input","red1","PaddedColumn","MenuItem","disabled","bg1","selected","SearchInput","text1","borderColor2","Separator","SeparatorDark","borderColor","useTransactionAdder","useActiveWeb3React","chainId","account","dispatch","useDispatch","useCallback","response","summary","approval","claim","hash","Error","addTransaction","from","useAllTransactions","state","useSelector","transactions","useHasPendingApproval","tokenAddress","spender","allTransactions","useMemo","Object","keys","some","tx","receipt","Date","getTime","addedTime","isTransactionRecent","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","backdrop","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","maxWidth","rest","attrs","modalBG","transparentize","shadow1","css","mediaWidth","upToMedium","upToSmall","Modal","onDismiss","initialFocusRef","children","fadeTransition","useTransition","config","duration","opacity","enter","leave","useSpring","y","mass","tension","friction","set","bind","useGesture","onDrag","down","movement","velocity","direction","map","item","key","props","style","setTimeout","document","body","paddingRight","isMobile","tabIndex","useENS","nameOrAddress","validated","isAddress","reverseLookup","useENSName","undefined","lookup","ensName","debouncedName","useDebounce","ensNodeArgument","ethers","utils","namehash","error","registrarContract","useENSRegistrarContract","resolverAddress","useSingleCallResult","resolverAddressResult","result","resolverContract","useENSResolverContract","isZero","addr","changed","address","loading","useENSAddress","name","ENSName","InputPanel","flexColumnNoWrap","InputContainer","ContainerRow","Label","label","Input","text3","AddressInputPanel","id","value","onChange","placeholder","handleInput","event","withoutSpaces","target","replace","Boolean","length","PATTERN","global","test","htmlFor","className","type","autoComplete","autoCorrect","autoCapitalize","spellCheck","pattern","href","getExplorerLink","fontSize","size","Tx","require","Ledger3","app","rlp","toSign","HDPath","rawTx","Promise","resolve","eTx","EIP155Supported","getAppConfiguration","splitVersion","split","parseInt","old","data","msg","info","raw","toHash","slice","txToSign","encode","signTransaction","toString","v","rv","cv","r","s","signedTx","serialize","isError","signTxLedger","then","res","ListGroupItem","React","ref","bsPrefix","active","eventKey","variant","action","as","useBootstrapPrefix","useNavItem","makeEventKey","navItemProps","meta","handleClick","useEventCallback","preventDefault","stopPropagation","onClick","Component","_jsx","classNames","isActive","displayName","ListGroup","horizontalVariant","useUncontrolled","activeKey","initialBsPrefix","horizontal","controlledProps","BaseNav","assign","Item","Web3Fn","getNetConfig","web3Fn","providers","HttpProvider","nodeRpc","CHAINID","chainID","getWeb3ConTract","ABI","ContractAddress","EXCHANGE_ABI","eth","Contract","getWeb3BaseInfo","sessionStorage","getItem","toHex","gas","gasPrice","nonce","to","count","time","now","batch","BatchRequest","add","estimateGas","request","err","Number","getTransactionCount","console","log","getGasPrice","execute","getDataIntervel","setInterval","toLedgerSign","sendSignedTransaction","clearInterval","hdk","walletCreate","publicKey","chainCode","walletType","path","page","moreAddr","wallets","skip","Buffer","i","derivedKey","derive","push","wallet","getChecksumAddressString","ethUtil","crypto","scrypt","uuid","Wallet","priv","pub","hwType","hwTransport","this","privKey","pubKey","generate","icapDirect","randomBytes","privateToAddress","prototype","getBalance","balance","getPath","getHWType","getHWTransport","getPrivateKey","getPrivateKeyString","getPublicKey","privateToPublic","getPublicKeyString","getAddress","publicToAddress","getAddressString","toChecksumAddress","fromPrivateKey","fromParityPhrase","phrase","sha3","toV3","password","opts","salt","iv","kdf","kdfparams","dklen","c","prf","pbkdf2Sync","n","p","cipher","createCipheriv","ciphertext","concat","update","final","mac","version","v4","random","Crypto","cipherparams","toJSON","checksumAddress","publisher","encrypted","fromMyEtherWallet","json","JSON","parse","locked","private","decodeCryptojsSalt","evp","evp_kdf","keysize","ivsize","decipher","createDecipheriv","decipherBuffer","fromMyEtherWalletV2","fromEthSale","encseed","seed","ethaddr","fromMyEtherWalletKey","fromV3","nonStrict","toLowerCase","nullBuff","toV3String","stringify","getV3Filename","timestamp","join","iter","block","createHash","digest","ret","tmp","walletRequirePass","ethjson","jsonArr","getWalletFromPrivKeyFile","strjson","_typeof","Symbol","iterator","obj","constructor","createKeccakHash","secp256k1","assert","BN","exports","MAX_INTEGER","TWO_POW256","KECCAK256_NULL_S","SHA3_NULL_S","KECCAK256_NULL","SHA3_NULL","KECCAK256_RLP_ARRAY_S","SHA3_RLP_ARRAY_S","KECCAK256_RLP_ARRAY","SHA3_RLP_ARRAY","KECCAK256_RLP_S","SHA3_RLP_S","KECCAK256_RLP","SHA3_RLP","zeros","bytes","allocUnsafe","fill","zeroAddress","bufferToHex","setLengthLeft","setLength","right","buf","toBuffer","copy","setLengthRight","unpad","stripZeros","a","first","stripHexPrefix","isBuffer","Array","isArray","isHexString","padToEven","intToBuffer","isBN","toArrayLike","toArray","bufferToInt","toNumber","fromSigned","num","fromTwos","toUnsigned","toTwos","keccak","bits","keccak256","sha256","ripemd160","padded","rlphash","isValidPrivate","privateKey","privateKeyVerify","isValidPublic","sanitize","publicKeyVerify","pubToAddress","publicKeyConvert","publicKeyCreate","importPublic","ecsign","msgHash","sig","sign","signature","recovery","hashPersonalMessage","message","prefix","ecrecover","senderPubKey","recover","toRpcSig","fromRpcSig","isValidAddress","isZeroAddress","addHexPrefix","toUpperCase","isValidChecksumAddress","generateAddress","isPrecompiled","str","isHexPrefixed","isValidSignature","homestead","SECP256K1_N_DIV_2","SECP256K1_N","gt","cmp","baToJSON","ba","array","defineProperties","self","fields","_fields","forEach","field","getter","setter","allowZero","allowLess","defineProperty","enumerable","configurable","get","default","alias","decode","d","indexOf","MAX_VALUE","arraycopy","src","srcPos","dest","destPos","module","N","dkLen","progressCallback","tickCallback","XY","V","B32","Int32Array","x","_X","B","totalOps","currentOp","current","total","percent","smix","Bi","Yi","blockmix_salsa8","offset","blockxor","readUInt32LE","BY","salsa20_8","R","b","bi","S","Si","D","Di","len","u2f","scrambleKey","timeoutSeconds","wrapApdu","apdu","webSafe64","base64","normal64","substring","u2fCallback","callback","exchange","apduHex","keyHandle","challenge","window","location","origin","catch","LedgerEth","comm","splitPath","element","index","number","isNaN","boolDisplay","boolChaincode","buffer","writeUInt32BE","sw","readUInt16BE","publicKeyLength","addressLength","rawTxHex","apdus","maxChunkSize","chunkSize","shift","localCallback","signPersonalMessage_async","messageHex","ID_CODE","recordTxns","txnData","pairs","outChainId","idCode","localStorage","outHash","axios","post","recordsTxnsUrl","qs","status","BalanceText","Text","CurrencyRow","currency","onSelect","urlAdded","userAdded","symbol","title","fontWeight","DarkGray","ml","justifySelf","Spinner","animation","_g","CurrencyList","height","currencies","onCurrencySelect","showETH","urlAddedTokens","fixedListRef","useTheme","hasOwnProperty","customAdded","INITIAL_TOKENS_CONTEXT","itemKey","Token","ETHER","itemData","itemCount","itemSize","CurrencySelectModal","onTokenSelect","hideETH","selfUseAllToken","t","useTranslation","fixedList","useRef","useState","searchQuery","setSearchQuery","allTokens","useAllTokenDetails","useTokens","includes","allBalances","useAllBalances","tokenList","k","formatEthBalance","BigNumber","formatTokenBalance","decimals","isSwitch","filteredTokenList","list","filter","tokenEntry","inputIsAddress","tokenEntryKey","match","RegExp","escapeStringRegex","m","sort","inputRef","_onTokenSelect","flex","Form","backgroundColor","color","checksummedInput","disableWidth","_excluded","_extends","arguments","source","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDropdown","_ref","svgRef","titleId","viewBox","xmlns","cx","cy","fillOpacity","ForwardRef","InputRow","CurrencyLogoContainer","span","CurrencySelect","button","primaryLight","LabelRow","Aligner","CustomDropDown","DropDown","withoutMargin","TokenSymbol","TokenName","BalanceMax","NumericalInput","BridgeInputPanel","onUserInput","onMax","showMaxButton","disableCurrencySelect","hideInput","otherCurrency","showCommonBases","errorMessage","disableTokenSelect","selectedTokenAddress","isSelfSymbol","isSelfLogo","isSelfName","modalIsOpen","setModalIsOpen","modalIsOpenTime","setModalIsOpenTime","handleDismissSearch","min","step","e","onKeyPress","which","keyCode","selectedCurrency","otherSelectedCurrency","Button","BS","Wrapper","HeaderRow","HoverText","ContentWrapper","UpperSection","LogoBox","ErrorTip","ConfirmContent","TxnsInfoText","ConfirmText","ButtonConfirm","HardwareTips","HardwareTipOpen","closeHardwareTip","txnsInfo","onSure","isSelfBtn","tipInfo","coin","show","onHide","centered","Header","Title","PathIcon","alt","PureWarningTip","Alert","WarningTip","alert","BSModal","TabButton","h1","Card","DefaultCard","TabHeader","SwapCurrencies","SubmitButtonContainer","TransactionInfo","LastSummaryText","ValueWrapper","GAS_MARGIN","calculateEtherTokenOutputFromInput","inputAmount","inputReserve","outputReserve","inputAmountWithFee","times","numerator","denominator","plus","dividedBy","calculateEtherTokenInputFromOutput","outputAmount","minus","getInitialSwapState","independentValue","exactFieldURL","exactAmountURL","dependentValue","independentField","inputCurrency","inputCurrencyURL","outputCurrencyURL","outputCurrency","initialCurrency","initToken","swapStateReducer","payload","newInputCurrency","newOutputCurrency","getExchangeRate","inputValue","inputDecimals","outputValue","outputDecimals","invert","factor","pow","calculateGasMargin","margin","CrossAnySwap","inputCurrencySwap","outputCurrencySwap","useBetaMessageManager","showBetaMessage","params","getAllQueryParams","initialSlippage","slippage","sending","setSending","brokenTokenWarning","setBrokenTokenWarning","deadlineFromNow","rawSlippage","rawTokenSlippage","slippageView","setSlippageView","allowedSlippageBig","tokenAllowedSlippageBig","useReducer","exactField","exactAmount","swapState","dispatchSwapState","useEffect","brokenTokens","recipient","setRecipient","recipientError","swapType","getSwapType","useTokenDetails","inputSymbol","inputExchangeAddress","exchangeAddress","inputIsSwitch","outputSymbol","outputExchangeAddress","outputIsSwitch","inputExchangeContract","useExchangeContract","outputExchangeContract","contract","inputAllowance","useAddressAllowance","useExchangeReserves","inputReserveETH","reserveETH","inputReserveToken","reserveToken","outputReserveETH","outputReserveToken","inputBalance","useAddressBalance","outputBalance","inputBalanceFormatted","isInteger","amountFormatter","Math","outputBalanceFormatted","independentDecimals","dependentDecimals","independentValueParsed","setIndependentValueParsed","dependentValueFormatted","inputValueParsed","outputValueParsed","inputValueFormatted","outputValueFormatted","toFixed","independentError","setIndependentError","parsedValue","parseUnits","lte","constants","Zero","gte","MaxUint256","token","tokenAllowedSlippage","allowedSlippage","minimum","maximum","lt","ZERO","calculateSlippageBounds","dependentValueMinumum","dependentValueMaximum","inputError","setInputError","showUnlock","setShowUnlock","inputValueCalculation","amount","calculatedDependentValue","reserveETHFirst","reserveTokenFirst","reserveETHSecond","reserveTokenSecond","intermediateValue","exchangeRate","marketRate","firstRate","secondRate","getMarketRate","percentSlippage","abs","percentSlippageFormatted","highSlippageWarning","parseEther","isValid","estimatedText","formatBalance","isDisabled","setIsDisableed","onSwapValid","onSwap","deadline","ceil","txnsType","supportWallet","setIsHardwareError","setIsHardwareTip","setHardwareTxnsInfo","contractAddress","web3Contract","methods","ethToTokenTransferInput","encodeABI","ethToTokenSwapInput","tokenToEthTransferInput","tokenToEthSwapInput","tokenToTokenTransferInput","One","toHexString","tokenToTokenSwapInput","ethToTokenTransferOutput","ethToTokenSwapOutput","tokenToEthTransferOutput","tokenToEthSwapOutput","tokenToTokenTransferOutput","tokenToTokenSwapOutput","setIsViewTxnsDtil","estimate","method","args","estimatedGasLimit","code","toast","gasLimit","customSlippageError","toggleWalletModal","useWalletModalToggle","newInputDetected","newOutputDetected","setShowInputWarning","setShowOutputWarning","isHardwareTip","isHardwareError","hardwareTxnsInfo","networkSensitive","xs","lg","coinType","Body","description","extraText","extraTextClickHander","valueToSet","selectedTokens","SwapIcon","disableUnlock","val","dirSwitchFn"],"mappings":"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","file":"static/js/20.a6846028.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport { Box } from \"rebass/styled-components\";\n\nconst Row = styled(Box)<{\n\twidth?: string;\n\talign?: string;\n\tjustify?: string;\n\tpadding?: string;\n\tborder?: string;\n\tborderRadius?: string;\n}>`\n\twidth: ${({ width }) => width ?? \"100%\"};\n\tdisplay: flex;\n\tpadding: 0;\n\talign-items: ${({ align }) => align ?? \"center\"};\n\tjustify-content: ${({ justify }) => justify ?? \"flex-start\"};\n\tpadding: ${({ padding }) => padding};\n\tborder: ${({ border }) => border};\n\tborder-radius: ${({ borderRadius }) => borderRadius};\n`;\n\nexport const RowBetween = styled(Row)`\n\tjustify-content: space-between;\n`;\n\nexport const RowFlat = styled.div`\n\tdisplay: flex;\n\talign-items: flex-end;\n`;\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n\tflex-wrap: wrap;\n\tmargin: ${({ gap }) => gap && `-${gap}`};\n\tjustify-content: ${({ justify }) => justify && justify};\n\n\t> * {\n\t\tmargin: ${({ gap }) => gap} !important;\n\t}\n`;\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n\twidth: fit-content;\n\tmargin: ${({ gap }) => gap && `-${gap}`};\n`;\n\nexport default Row;\n","import styled from \"styled-components\";\n\nconst Column = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n`;\nexport const ColumnCenter = styled(Column)`\n\twidth: 100%;\n\talign-items: center;\n`;\n\nexport const AutoColumn = styled.div<{\n\tgap?: \"sm\" | \"md\" | \"lg\" | string;\n\tjustify?: \"stretch\" | \"center\" | \"start\" | \"end\" | \"flex-start\" | \"flex-end\" | \"space-between\";\n}>`\n\tdisplay: grid;\n\tgrid-auto-rows: auto;\n\tgrid-row-gap: ${({ gap }) =>\n\t\t(gap === \"sm\" && \"8px\") || (gap === \"md\" && \"12px\") || (gap === \"lg\" && \"24px\") || gap};\n\tjustify-items: ${({ justify }) => justify && justify};\n`;\n\nexport default Column;\n","import styled from \"styled-components\";\nimport { AutoColumn } from \"../Column\";\nimport { RowBetween, RowFixed } from \"../Row\";\n\nexport const ModalInfo = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\tpadding: 1rem 1rem;\n\tmargin: 0.25rem 0.5rem;\n\tjustify-content: center;\n\tflex: 1;\n\tuser-select: none;\n`;\n\nexport const TextDot = styled.div`\n\theight: 3px;\n\twidth: 3px;\n\tbackground-color: ${({ theme }) => theme.text2};\n\tborder-radius: 50%;\n`;\n\nexport const FadedSpan = styled(RowFixed)`\n\tcolor: ${({ theme }) => theme.primary};\n\tfont-size: 14px;\n`;\n\nexport const Checkbox = styled.input`\n\tborder: 1px solid ${({ theme }) => theme.red1};\n\theight: 20px;\n\tmargin: 0;\n`;\n\nexport const PaddedColumn = styled(AutoColumn)`\n\tpadding: 1.5rem;\n`;\n\nexport const MenuItem = styled(RowBetween)`\n\tpadding: 4px 20px;\n\theight: 56px;\n\tdisplay: grid;\n\tgrid-template-columns: auto minmax(auto, 1fr) auto minmax(0, 72px);\n\tgrid-gap: 16px;\n\tcursor: ${({ disabled }) => !disabled && \"pointer\"};\n\tpointer-events: ${({ disabled }) => disabled && \"none\"};\n\t:hover {\n\t\tbackground-color: ${({ theme, disabled }) => !disabled && theme.bg1};\n\t}\n\topacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\n`;\n\nexport const SearchInput = styled.input`\n\tposition: relative;\n\tdisplay: flex;\n\tpadding: 16px;\n\talign-items: center;\n\twidth: 100%;\n\twhite-space: nowrap;\n\tbackground: ${({ theme }) => theme.bg1};\n\toutline: none;\n\tborder-radius: 20px;\n\tcolor: ${({ theme }) => theme.text1};\n\tborder: 1px solid ${({ theme }) => theme.borderColor2};\n\t-webkit-appearance: none;\n\ttransition: border 100ms;\n\tfont-size: 1rem;\n\n\t&::placeholder {\n\t\tcolor: ${({ theme }) => theme.text2};\n\t}\n\n\t&:focus {\n\t\tborder: 1px solid ${({ theme }) => theme.primary};\n\t\toutline: none;\n\t}\n`;\nexport const Separator = styled.div`\n\twidth: 100%;\n\theight: 1px;\n\tbackground-color: ${({ theme }) => theme.borderColor2};\n`;\n\nexport const SeparatorDark = styled.div`\n\twidth: 100%;\n\theight: 1px;\n\tbackground-color: ${({ theme }) => theme.borderColor};\n`;\n","import { TransactionResponse } from \"@ethersproject/providers\";\nimport { useCallback, useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { AppDispatch, AppState } from \"../index\";\nimport { addTransaction } from \"./actions\";\nimport { TransactionDetails } from \"./reducer\";\n\n// helper that can take a ethers library transaction response and add it to the list of transactions\nexport function useTransactionAdder(): (\n\tresponse: TransactionResponse,\n\tcustomData?: {\n\t\tsummary?: string;\n\t\tapproval?: { tokenAddress: string; spender: string };\n\t\tclaim?: { recipient: string };\n\t}\n) => void {\n\tconst { chainId, account } = useActiveWeb3React();\n\tconst dispatch = useDispatch<AppDispatch>();\n\n\treturn useCallback(\n\t\t(\n\t\t\tresponse: TransactionResponse,\n\t\t\t{\n\t\t\t\tsummary,\n\t\t\t\tapproval,\n\t\t\t\tclaim,\n\t\t\t}: {\n\t\t\t\tsummary?: string;\n\t\t\t\tclaim?: { recipient: string };\n\t\t\t\tapproval?: { tokenAddress: string; spender: string };\n\t\t\t} = {}\n\t\t) => {\n\t\t\tif (!account) return;\n\t\t\tif (!chainId) return;\n\n\t\t\tconst { hash } = response;\n\t\t\tif (!hash) {\n\t\t\t\tthrow Error(\"No transaction hash found.\");\n\t\t\t}\n\t\t\tdispatch(addTransaction({ hash, from: account, chainId, approval, summary, claim }));\n\t\t},\n\t\t[dispatch, chainId, account]\n\t);\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n\tconst { chainId } = useActiveWeb3React();\n\n\tconst state = useSelector<AppState, AppState[\"transactions\"]>((state) => state.transactions);\n\n\treturn chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n\tconst transactions = useAllTransactions();\n\n\tif (!transactionHash || !transactions[transactionHash]) return false;\n\n\treturn !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n\treturn new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// returns whether a token has a pending approval transaction\nexport function useHasPendingApproval(tokenAddress: string | undefined, spender: string | undefined): boolean {\n\tconst allTransactions = useAllTransactions();\n\treturn useMemo(\n\t\t() =>\n\t\t\ttypeof tokenAddress === \"string\" &&\n\t\t\ttypeof spender === \"string\" &&\n\t\t\tObject.keys(allTransactions).some((hash) => {\n\t\t\t\tconst tx = allTransactions[hash];\n\t\t\t\tif (!tx) return false;\n\t\t\t\tif (tx.receipt) {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tconst approval = tx.approval;\n\t\t\t\t\tif (!approval) return false;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tapproval.spender === spender &&\n\t\t\t\t\t\tapproval.tokenAddress === tokenAddress &&\n\t\t\t\t\t\tisTransactionRecent(tx)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t[allTransactions, spender, tokenAddress]\n\t);\n}\n\n// watch for submissions to claim\n// return null if not done loading, return undefined if not found\nexport function useUserHasSubmittedClaim(\n\taccount?: string\n): { claimSubmitted: boolean; claimTxn: TransactionDetails | undefined } {\n\tconst allTransactions = useAllTransactions();\n\n\t// get the txn if it has been submitted\n\tconst claimTxn = useMemo(() => {\n\t\tconst txnIndex = Object.keys(allTransactions).find((hash) => {\n\t\t\tconst tx = allTransactions[hash];\n\t\t\treturn tx.claim && tx.claim.recipient === account;\n\t\t});\n\t\treturn txnIndex && allTransactions[txnIndex] ? allTransactions[txnIndex] : undefined;\n\t}, [account, allTransactions]);\n\n\treturn { claimSubmitted: Boolean(claimTxn), claimTxn };\n}\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { animated, useTransition, useSpring } from \"react-spring\";\nimport { DialogOverlay, DialogContent } from \"@reach/dialog\";\nimport { isMobile } from \"react-device-detect\";\nimport \"@reach/dialog/styles.css\";\nimport { transparentize } from \"polished\";\nimport { useGesture } from \"react-use-gesture\";\n\nconst AnimatedDialogOverlay = animated(DialogOverlay);\n\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n\t&[data-reach-dialog-overlay] {\n\t\tz-index: 1100;\n\t\toverflow: hidden;\n\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t\tbackground-color: ${({ theme }) => theme.backdrop};\n\t}\n`;\n\nconst AnimatedDialogContent = animated(DialogContent);\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, maxWidth, ...rest }) => (\n\t<AnimatedDialogContent {...rest} />\n)).attrs({\n\t\"aria-label\": \"dialog\",\n})`\n\toverflow-y: ${({ mobile }) => (mobile ? \"scroll\" : \"hidden\")};\n\n\t&[data-reach-dialog-content] {\n\t\tmargin: 0 0 2rem 0;\n\t\tbackground-color: ${({ theme }) => theme.modalBG};\n\t\tbox-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n\t\tpadding: 0;\n\t\twidth: 50vw;\n\t\toverflow-x: hidden;\n\t\tdisplay: flex;\n\t\tborder-radius: 10px;\n\t\toverflow-y: ${({ mobile }) => (mobile ? \"scroll\" : \"hidden\")};\n\t\talign-self: ${({ mobile }) => (mobile ? \"flex-end\" : \"center\")};\n\n\t\t${({ maxWidth }) =>\n\t\t\tmaxWidth &&\n\t\t\tcss`\n\t\t\t\tmax-width: ${maxWidth}px;\n\t\t\t`}\n\t\t${({ maxHeight }) =>\n\t\t\tmaxHeight &&\n\t\t\tcss`\n\t\t\t\tmax-height: ${maxHeight}vh;\n\t\t\t`}\n\t\t${({ minHeight }) =>\n\t\t\tminHeight &&\n\t\t\tcss`\n\t\t\t\tmin-height: ${minHeight}vh;\n\t\t\t`}\n\t\t${({ theme }) => theme.mediaWidth.upToMedium`\n\t\t\twidth: 65vw;\n\t\t\tmargin: 0;\n\t\t`}\n\t\t${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n\t\t\twidth:  85vw;\n\t\t\t${\n\t\t\t\tmobile &&\n\t\t\t\tcss`\n\t\t\t\t\twidth: 100vw;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t\t`\n\t\t\t}\n\t\t`}\n\t}\n`;\n\ninterface ModalProps {\n\tisOpen: boolean;\n\tonDismiss: () => void;\n\tminHeight?: number | false;\n\tmaxHeight?: number;\n\tmaxWidth?: number;\n\tinitialFocusRef?: React.RefObject<any>;\n\tchildren?: React.ReactNode;\n}\n\nexport default function Modal({\n\tisOpen,\n\tonDismiss,\n\tminHeight = false,\n\tmaxHeight = 90,\n\tmaxWidth = 420,\n\tinitialFocusRef,\n\tchildren,\n}: ModalProps) {\n\tconst fadeTransition = useTransition(isOpen, null, {\n\t\tconfig: { duration: 200 },\n\t\tfrom: { opacity: 0 },\n\t\tenter: { opacity: 1 },\n\t\tleave: { opacity: 0 },\n\t});\n\n\tconst [, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }));\n\tconst bind = useGesture({\n\t\tonDrag: (state) => {\n\t\t\tset({\n\t\t\t\ty: state.down ? state.movement[1] : 0,\n\t\t\t});\n\t\t\tif (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n\t\t\t\tonDismiss();\n\t\t\t}\n\t\t},\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{fadeTransition.map(\n\t\t\t\t({ item, key, props }) =>\n\t\t\t\t\titem && (\n\t\t\t\t\t\t<StyledDialogOverlay\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\tonDismiss={() => {\n\t\t\t\t\t\t\t\tonDismiss();\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tdocument.body.style.paddingRight = `0`;\n\t\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tinitialFocusRef={initialFocusRef}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StyledDialogContent\n\t\t\t\t\t\t\t\t{...(isMobile\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t...bind(),\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {})}\n\t\t\t\t\t\t\t\taria-label=\"dialog content\"\n\t\t\t\t\t\t\t\tminHeight={minHeight}\n\t\t\t\t\t\t\t\tmaxHeight={maxHeight}\n\t\t\t\t\t\t\t\tmaxWidth={maxWidth}\n\t\t\t\t\t\t\t\tmobile={isMobile}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n\t\t\t\t\t\t\t\t{!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</StyledDialogContent>\n\t\t\t\t\t\t</StyledDialogOverlay>\n\t\t\t\t\t)\n\t\t\t)}\n\t\t</>\n\t);\n}\n","import { isAddress } from \"../utils\";\nimport useENSAddress from \"./useENSAddress\";\nimport useENSName from \"./useENSName\";\n\n/**\n * Given a name or address, does a lookup to resolve to an address and name\n * @param nameOrAddress ENS name or address\n */\nexport default function useENS(\n\tnameOrAddress?: string | null\n): { loading: boolean; address: string | null; name: string | null } {\n\tconst validated = isAddress(nameOrAddress);\n\tconst reverseLookup = useENSName(validated ? validated : undefined);\n\tconst lookup = useENSAddress(nameOrAddress);\n\n\treturn {\n\t\tloading: reverseLookup.loading || lookup.loading,\n\t\taddress: validated ? validated : lookup.address,\n\t\tname: reverseLookup.ENSName\n\t\t\t? reverseLookup.ENSName\n\t\t\t: !validated && lookup.address\n\t\t\t? nameOrAddress || null\n\t\t\t: null,\n\t};\n}\n","import { ethers } from \"ethers\";\nimport { useMemo } from \"react\";\nimport { useSingleCallResult } from \"../state/multicall/hooks\";\nimport isZero from \"../utils/isZero\";\nimport { useENSRegistrarContract, useENSResolverContract } from \"./useContract\";\nimport useDebounce from \"./useDebounce\";\n\n/**\n * Does a lookup for an ENS name to find its address.\n */\nexport default function useENSAddress(ensName?: string | null): { loading: boolean; address: string | null } {\n\tconst debouncedName = useDebounce(ensName, 200);\n\tconst ensNodeArgument = useMemo(() => {\n\t\tif (!debouncedName) return [undefined];\n\t\ttry {\n\t\t\treturn debouncedName ? [ethers.utils.namehash(debouncedName)] : [undefined];\n\t\t} catch (error) {\n\t\t\treturn [undefined];\n\t\t}\n\t}, [debouncedName]);\n\tconst registrarContract = useENSRegistrarContract(false);\n\tconst resolverAddress = useSingleCallResult(registrarContract, \"resolver\", ensNodeArgument);\n\tconst resolverAddressResult = resolverAddress.result?.[0];\n\tconst resolverContract = useENSResolverContract(\n\t\tresolverAddressResult && !isZero(resolverAddressResult) ? resolverAddressResult : undefined,\n\t\tfalse\n\t);\n\tconst addr = useSingleCallResult(resolverContract, \"addr\", ensNodeArgument);\n\n\tconst changed = debouncedName !== ensName;\n\treturn {\n\t\taddress: changed ? null : addr.result?.[0] ?? null,\n\t\tloading: changed || resolverAddress.loading || addr.loading,\n\t};\n}\n","import styled from \"styled-components\";\n\nexport const InputPanel = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap}\n\tposition: relative;\n\tz-index: 1;\n\twidth: 100%;\n`;\n\nexport const InputContainer = styled.div`\n\tflex: 1;\n`;\n\nexport const ContainerRow = styled.div<{ error?: boolean }>`\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tborder: 1px solid ${({ error, theme }) => (error ? theme.red1 : theme.bg1)};\n\tborder-radius: 12px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\ttransition: border-color 300ms ${({ error }) => (error ? \"step-end\" : \"step-start\")},\n\t\tcolor 500ms ${({ error }) => (error ? \"step-end\" : \"step-start\")};\n\toverflow: hidden;\n`;\n\nexport const Label = styled.label`\n\tcolor: ${({ theme }) => theme.text1};\n    display: block;\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n    margin: 0;\n\tpadding: 0.875rem;\n    min-width: 160px;\n\twidth: 160px;\n`;\n\nexport const Input = styled.input<{ error?: boolean }>`\n\tfont-size: 1rem;\n\toutline: none;\n\tborder: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\ttransition: color 300ms ${({ error }) => (error ? \"step-end\" : \"step-start\")};\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\theight: 56px;\n\tfont-weight: 500;\n\twidth: 100%;\n\tpadding: 0 10px;\n\t-webkit-appearance: textfield;\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t\tfont-weight: 400;\n\t}\n`;\n","import { useCallback } from \"react\";\nimport { ExternalLink as ExternalIcon } from \"react-feather\";\nimport { PATTERN } from \"../../constants\";\nimport useENS from \"../../hooks/useENS\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { ExternalLink } from \"../../theme\";\nimport { getExplorerLink } from \"../../utils/explorer\";\nimport { AutoColumn } from \"../Column\";\nimport * as Styled from \"./styleds\";\n\nexport type AddressInputPanelProps = {\n\tid?: any;\n\tvalue?: any;\n\tonChange?: (T: string) => void;\n\tlabel?: string;\n\tplaceholder?: string;\n};\n\nconst AddressInputPanel = ({\n\tid,\n\tvalue,\n\tonChange,\n\tlabel = \"Recipient\",\n\tplaceholder = \"Wallet Address or ENS name\",\n}: AddressInputPanelProps) => {\n\tconst { chainId } = useActiveWeb3React();\n\tconst { address, name } = useENS(value);\n\n\tconst handleInput = useCallback(\n\t\t(event) => {\n\t\t\tconst input = event.target.value;\n\t\t\tconst withoutSpaces = input.replace(/\\s+/g, \"\");\n\t\t\tif (onChange) {\n\t\t\t\tonChange(withoutSpaces);\n\t\t\t}\n\t\t},\n\t\t[onChange]\n\t);\n\n\tconst error = Boolean(value?.length > 0 && !PATTERN.global.test(value));\n\n\treturn (\n\t\t<Styled.InputPanel>\n\t\t\t<Styled.InputContainer>\n\t\t\t\t<AutoColumn gap=\"md\">\n\t\t\t\t\t<Styled.ContainerRow error={error}>\n\t\t\t\t\t\t<Styled.Label htmlFor={id}>{label}</Styled.Label>\n\t\t\t\t\t\t<Styled.Input\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tclassName=\"recipient-address-input\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tautoCorrect=\"off\"\n\t\t\t\t\t\t\tautoCapitalize=\"off\"\n\t\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tpattern={`${PATTERN.global}`}\n\t\t\t\t\t\t\tonChange={handleInput}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Styled.ContainerRow>\n\t\t\t\t\t{address && chainId && (\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end align-items-center\">\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\thref={getExplorerLink(chainId, name ?? address, \"address\")}\n\t\t\t\t\t\t\t\tstyle={{ fontSize: \"14px\" }}\n\t\t\t\t\t\t\t\tclassName=\"d-flex align-items-center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ExternalIcon size={16} className=\"me-1\" />\n\t\t\t\t\t\t\t\tView on explorer\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</AutoColumn>\n\t\t\t</Styled.InputContainer>\n\t\t</Styled.InputPanel>\n\t);\n};\n\nexport default AddressInputPanel;\n","import walletCreate from '../public/walletCreate.js'\n\n// import React, { useState, useReducer, useEffect, useContext, createContext } from 'react'\n// import { AbstractConnector } from '@web3-react/abstract-connector';\n// import { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\n// import { NetworkContextName } from '../../constants/network'\n// import {setAccount} from '../../../hooks'\n// import {LedgerConnect} from './ledgerConnect'\n// const ethUtil = require('ethereumjs-util')\nconst Tx  = require(\"ethereumjs-tx\")\nconst Ledger3 = require(\"./ledger3\")\nconst LedgerEth = require(\"./ledger-eth\")\nconst ledger = new Ledger3(\"w0w\")\nconst app = new LedgerEth(ledger)\nconst rlp = require('rlp')\nfunction getLedgerAddressArr (HDPath, page) {\n  return new Promise(resolve => {\n    let data = { msg: 'Error', info: []}\n    app.getAddress(HDPath, (res, err) => {\n      let addressArr = []\n      if (err) {\n        data.error = err.toString()\n      } else {\n        addressArr = walletCreate(res[\"publicKey\"], res[\"chainCode\"], \"ledger\", HDPath, page)\n        data.msg = 'Success'\n        data.info = addressArr\n      }\n      resolve(data)\n    }, false, true)\n  })\n}\n\nfunction signTxLedger (app, eTx, rawTx, HDPath, old) {\n  return new Promise(resolve => {\n    let data = { msg: 'Error', info: ''}\n    eTx.raw[6] = rawTx.chainId\n    eTx.raw[7] = eTx.raw[8] = 0\n    let toHash = old ? eTx.raw.slice(0, 6) : eTx.raw\n    let txToSign = rlp.encode(toHash)\n    app.signTransaction(HDPath, txToSign.toString('hex'), (result, error) => {\n      // console.log(result)\n      // console.log(error)\n      if (typeof error != \"undefined\") {\n        // error = error.errorCode ? u2f.getErrorByCode(error.errorCode) : error\n        data = { error: error}\n      } else {\n        let v = result['v'].toString(16);\n        // console.log(result['v'])\n        // console.log(v)\n        // console.log(parseInt(v))\n        if (!old) {\n          // EIP155 support. check/recalc signature v value.\n          let rv = parseInt(v, 16)\n          let cv = rawTx.chainId * 2 + 35\n          if (rv !== cv && (rv & cv) !== rv) {\n            cv += 1 // add signature v bit.\n            // console.log(cv)\n          }\n          v = cv.toString(16);\n        }\n        rawTx.v = \"0x\" + v;\n        rawTx.r = \"0x\" + result['r'];\n        rawTx.s = \"0x\" + result['s'];\n        eTx = new Tx(rawTx);\n        // rawTx.rawTx = JSON.stringify(rawTx);\n        rawTx.signedTx = '0x' + eTx.serialize().toString('hex');\n        rawTx.isError = false\n        data = { msg: 'Success', info: rawTx}\n      }\n      resolve(data)\n    })\n  })\n}\n\nfunction toSign (HDPath, rawTx) {\n  return new Promise(resolve => {\n    let eTx = new Tx(rawTx)\n    let EIP155Supported = false\n    app.getAppConfiguration((result, error) => {\n      // console.log(result)\n      // console.log(error)\n      if (typeof error != \"undefined\") {\n        // this.$$.errTip(error)\n        return\n      }\n      let splitVersion = result['version'].split('.');\n      if (parseInt(splitVersion[0]) > 1) {\n          EIP155Supported = true;\n      } else if (parseInt(splitVersion[1]) > 0) {\n          EIP155Supported = true;\n      } else if (parseInt(splitVersion[2]) > 2) {\n          EIP155Supported = true;\n      }\n      signTxLedger(app, eTx, rawTx, HDPath, !EIP155Supported).then(res => {\n        resolve(res)\n      })\n    })\n  })\n}\n\nexport {\n  getLedgerAddressArr,\n  toSign\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroupItem = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  active,\n  disabled,\n  eventKey,\n  className,\n  variant,\n  action,\n  as,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  const handleClick = useEventCallback(event => {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    navItemProps.onClick(event);\n  });\n\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  } // eslint-disable-next-line no-nested-ternary\n\n\n  const Component = as || (action ? props.href ? 'a' : 'button' : 'div');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    ...navItemProps,\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, meta.isActive && 'active', disabled && 'disabled', variant && `${bsPrefix}-${variant}`, action && `${bsPrefix}-action`)\n  });\n});\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import classNames from 'classnames';\nimport * as React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport BaseNav from '@restart/ui/Nav';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ListGroupItem from './ListGroupItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ListGroup = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    bsPrefix: initialBsPrefix,\n    variant,\n    horizontal,\n    // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n    as = 'div',\n    ...controlledProps\n  } = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  });\n  const bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  let horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : `horizontal-${horizontal}`;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/_jsx(BaseNav, {\n    ref: ref,\n    ...controlledProps,\n    as: as,\n    className: classNames(className, bsPrefix, variant && `${bsPrefix}-${variant}`, horizontalVariant && `${bsPrefix}-${horizontalVariant}`)\n  });\n});\nListGroup.displayName = 'ListGroup';\nexport default Object.assign(ListGroup, {\n  Item: ListGroupItem\n});","\nimport getNetConfig from '../../config'\nconst Web3Fn = require('web3')\nconst config = getNetConfig();\nconst web3Fn = new Web3Fn(new Web3Fn.providers.HttpProvider(config.nodeRpc))\n\n\nexport default web3Fn","import web3Fn from './index'\nimport EXCHANGE_ABI from '../../constants/abis/exchange.json'\nimport {toSign as toLedgerSign} from '../wallets/ledger/index'\nimport getNetConfig from  '../../config'\n\nconst config = getNetConfig();\n\nconst CHAINID = config.chainID\n\nexport function getWeb3ConTract (ABI, ContractAddress) {\n  // console.log(web3Fn)\n  ABI = ABI ? ABI : EXCHANGE_ABI\n  // return new web3Fn.eth.contract(EXCHANGE_ABI, ContractAddress)\n  // let contract = web3Fn.eth.contract(ABI) \n  return new web3Fn.eth.Contract(ABI, ContractAddress)\n}\n\n\nexport function getWeb3BaseInfo (ContractAddress, input, address, value) {\n  let walletType = sessionStorage.getItem('walletType')\n  let HDPath = sessionStorage.getItem('HDPath')\n  let data = {\n    chainId: web3Fn.utils.toHex(CHAINID),\n    from: address,\n    gas: '',\n    gasPrice: \"\",\n    nonce: \"\",\n    to: ContractAddress,\n    value: value ? value : \"0x0\",\n    data: input\n  }\n  // console.log(data)\n  return new Promise(resolve => {\n    let count = 0, time = Date.now()\n    const batch = new web3Fn.BatchRequest()\n    // batch.add(web3Fn.eth.estimateGas.request({to: ContractAddress}, (err, res) => {\n    batch.add(web3Fn.eth.estimateGas.request(data, (err, res) => {\n      if (err) {\n        // console.log(err)\n        data.gas = web3Fn.utils.toHex(210000)\n        count ++\n      } else {\n        data.gas = web3Fn.utils.toHex(parseInt(Number(res) * 1.2))\n        count ++\n      }\n    }))\n    batch.add(web3Fn.eth.getTransactionCount.request(address, (err, res) => {\n      if (err) {\n        console.log(err)\n      } else {\n        // console.log(2)\n        data.nonce = web3Fn.utils.toHex(res)\n        count ++\n      }\n    }))\n    batch.add(web3Fn.eth.getGasPrice.request((err, res) => {\n      if (err) {\n        console.log(err)\n      } else {\n        // console.log(res)\n        // console.log(Number(res))\n        data.gasPrice = web3Fn.utils.toHex(res)\n        count ++\n      }\n    }))\n    batch.execute()\n    let getDataIntervel = setInterval(() => {\n      if (count >= 3 && ( (Date.now() - time) <= 30000 )) {\n        // this.dataPage = data\n        // this.getInputData()\n        console.log(data)\n        toLedgerSign(HDPath, data).then(res => {\n          if (res.msg === 'Success') {\n            web3Fn.eth.sendSignedTransaction(res.info.signedTx, (err, hash) => {\n              // console.log(hash)\n              if (err) {\n                resolve({\n                  msg: 'Error',\n                  error: err\n                })\n              } else {\n                data.hash = hash\n                resolve({\n                  msg: 'Success',\n                  info: data\n                })\n              }\n            })\n          } else {\n            resolve({\n              msg: 'Error',\n              error: res.error\n            })\n          }\n        })\n        clearInterval(getDataIntervel)\n      } else if (count < 3 && ( (Date.now() - time) > 30000 )) {\n        resolve({\n          msg: 'Error',\n          error: \"\"\n        })\n        clearInterval(getDataIntervel)\n      }\n    }, 1000)\n  })\n}","export default __webpack_public_path__ + \"static/media/swap.a249e251.svg\";","// const wallet = require('../ethereum/wallet')\nimport wallet from '../ethereum/wallet'\nconst HDKey = require('hdkey')\nconst hdk = new HDKey()\n\n\nfunction walletCreate (publicKey, chainCode, walletType, path, page) {\n  page = page ? page : 0\n  let moreAddr = []\n  let wallets = []\n  let skip = page * 5\n  hdk.publicKey = new Buffer(publicKey, \"hex\")\n  hdk.chainCode = new Buffer(chainCode, \"hex\")\n  for (let i = skip; i < (skip + 5); i++) {\n    let derivedKey = hdk.derive(\"m/\" + i)\n    if (walletType === 'ledger') {\n      wallets.push(new wallet(undefined, derivedKey.publicKey, path + \"/\" + i, walletType))\n    } else {\n      wallets.push(new wallet(undefined, derivedKey.publicKey, path + \"/\" + i, walletType))\n    }\n    moreAddr.push({addr: wallets[i - skip].getChecksumAddressString(), path: path + \"/\" + i})\n  }\n  return moreAddr\n}\n\nexport default walletCreate","\n// var ethUtil = require('ethereumjs-util')\nvar ethUtil = require('../ethUtil')\nethUtil.crypto = require(\"crypto\");\nethUtil.Tx = require(\"ethereumjs-tx\");\nethUtil.scrypt = require(\"scryptsy\");\nethUtil.uuid = require(\"uuid\");\nvar Wallet = function (priv, pub, path, hwType, hwTransport) {\n  if (typeof priv != \"undefined\") {\n    this.privKey = priv.length === 32 ? priv : Buffer(priv, 'hex')\n  }\n  this.pubKey = pub;\n  this.path = path;\n  this.hwType = hwType;\n  this.hwTransport = hwTransport;\n  this.type = \"default\";\n}\nWallet.generate = function (icapDirect) {\n  if (icapDirect) {\n    while (true) {\n      var privKey = ethUtil.crypto.randomBytes(32)\n      if (ethUtil.privateToAddress(privKey)[0] === 0) {\n        return new Wallet(privKey)\n      }\n    }\n  } else {\n    return new Wallet(ethUtil.crypto.randomBytes(32))\n  }\n}\n\nWallet.prototype.getBalance = function () {\n  return this.balance;\n}\nWallet.prototype.getPath = function () {\n  return this.path;\n}\nWallet.prototype.getHWType = function () {\n  return this.hwType;\n}\nWallet.prototype.getHWTransport = function () {\n  return this.hwTransport;\n}\nWallet.prototype.getPrivateKey = function () {\n  return this.privKey\n}\nWallet.prototype.getPrivateKeyString = function () {\n  if (typeof this.privKey != \"undefined\") {\n    return this.getPrivateKey().toString('hex')\n  } else {\n    return \"\";\n  }\n}\nWallet.prototype.getPublicKey = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return ethUtil.privateToPublic(this.privKey)\n  } else {\n    return this.pubKey;\n  }\n}\nWallet.prototype.getPublicKeyString = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return '0x' + this.getPublicKey().toString('hex')\n  } else {\n    return \"0x\" + this.pubKey.toString('hex')\n  }\n}\nWallet.prototype.getAddress = function () {\n  if (typeof this.pubKey == \"undefined\") {\n    return ethUtil.privateToAddress(this.privKey)\n  } else {\n    return ethUtil.publicToAddress(this.pubKey, true)\n  }\n}\nWallet.prototype.getAddressString = function () {\n  return '0x' + this.getAddress().toString('hex')\n}\nWallet.prototype.getChecksumAddressString = function () {\n  return ethUtil.toChecksumAddress(this.getAddressString())\n}\nWallet.fromPrivateKey = function (priv) {\n  return new Wallet(priv)\n}\nWallet.fromParityPhrase = function (phrase) {\n  var hash = ethUtil.sha3(new Buffer(phrase));\n  for (var i = 0; i < 16384; i++) hash = ethUtil.sha3(hash);\n  while (ethUtil.privateToAddress(hash)[0] !== 0) hash = ethUtil.sha3(hash);\n  return new Wallet(hash);\n}\nWallet.prototype.toV3 = function (password, opts) {\n  opts = opts || {}\n  var salt = opts.salt || ethUtil.crypto.randomBytes(32)\n  var iv = opts.iv || ethUtil.crypto.randomBytes(16)\n  var derivedKey\n  var kdf = opts.kdf || 'scrypt'\n  var kdfparams = {\n    dklen: opts.dklen || 32,\n    salt: salt.toString('hex')\n  }\n  if (kdf === 'pbkdf2') {\n    kdfparams.c = opts.c || 262144\n    kdfparams.prf = 'hmac-sha256'\n    derivedKey = ethUtil.crypto.pbkdf2Sync(new Buffer(password), salt, kdfparams.c, kdfparams.dklen, 'sha256')\n  } else if (kdf === 'scrypt') {\n    // FIXME: support progress reporting callback\n    kdfparams.n = opts.n || 262144\n    kdfparams.r = opts.r || 8\n    kdfparams.p = opts.p || 1\n    derivedKey = ethUtil.scrypt(new Buffer(password), salt, kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen)\n  } else {\n    throw new Error('Unsupported kdf')\n  }\n  var cipher = ethUtil.crypto.createCipheriv(opts.cipher || 'aes-128-ctr', derivedKey.slice(0, 16), iv)\n  if (!cipher) {\n    throw new Error('Unsupported cipher')\n  }\n  var ciphertext = Buffer.concat([cipher.update(this.privKey), cipher.final()])\n  var mac = ethUtil.sha3(Buffer.concat([derivedKey.slice(16, 32), new Buffer(ciphertext, 'hex')]))\n  return {\n    version: 3,\n    id: ethUtil.uuid.v4({\n      random: opts.uuid || ethUtil.crypto.randomBytes(16)\n    }),\n    address: this.getAddress().toString('hex'),\n    Crypto: {\n      ciphertext: ciphertext.toString('hex'),\n      cipherparams: {\n        iv: iv.toString('hex')\n      },\n      cipher: opts.cipher || 'aes-128-ctr',\n      kdf: kdf,\n      kdfparams: kdfparams,\n      mac: mac.toString('hex')\n    }\n  }\n}\nWallet.prototype.toJSON = function () {\n  return {\n    address: this.getAddressString(),\n    checksumAddress: this.getChecksumAddressString(),\n    privKey: this.getPrivateKeyString(),\n    pubKey: this.getPublicKeyString(),\n    publisher: '',\n    encrypted: false,\n    version: 2\n  }\n}\nWallet.fromMyEtherWallet = function (input, password) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input)\n  var privKey\n  if (!json.locked) {\n    if (json.private.length !== 64) {\n      throw new Error('Invalid private key length')\n    }\n    privKey = new Buffer(json.private, 'hex')\n  } else {\n    if (typeof password !== 'string') {\n      throw new Error('Password required')\n    }\n    if (password.length < 7) {\n      throw new Error('Password must be at least 7 characters')\n    }\n    var cipher = json.encrypted ? json.private.slice(0, 128) : json.private\n    cipher = Wallet.decodeCryptojsSalt(cipher)\n    var evp = Wallet.evp_kdf(new Buffer(password), cipher.salt, {\n      keysize: 32,\n      ivsize: 16\n    })\n    var decipher = ethUtil.crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv)\n    privKey = Wallet.decipherBuffer(decipher, new Buffer(cipher.ciphertext))\n    privKey = new Buffer((privKey.toString()), 'hex')\n  }\n  var wallet = new Wallet(privKey)\n  if (wallet.getAddressString() !== json.address) {\n    throw new Error('Invalid private key or address')\n  }\n  return wallet\n}\nWallet.fromMyEtherWalletV2 = function (input) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input);\n  if (json.privKey.length !== 64) {\n    throw new Error('Invalid private key length');\n  };\n  var privKey = new Buffer(json.privKey, 'hex');\n  return new Wallet(privKey);\n}\nWallet.fromEthSale = function (input, password) {\n  var json = (typeof input === 'object') ? input : JSON.parse(input)\n  var encseed = new Buffer(json.encseed, 'hex')\n  var derivedKey = ethUtil.crypto.pbkdf2Sync(Buffer(password), Buffer(password), 2000, 32, 'sha256').slice(0, 16)\n  var decipher = ethUtil.crypto.createDecipheriv('aes-128-cbc', derivedKey, encseed.slice(0, 16))\n  var seed = Wallet.decipherBuffer(decipher, encseed.slice(16))\n  var wallet = new Wallet(ethUtil.sha3(seed))\n  if (wallet.getAddress().toString('hex') !== json.ethaddr) {\n    throw new Error('Decoded key mismatch - possibly wrong passphrase')\n  }\n  return wallet\n}\nWallet.fromMyEtherWalletKey = function (input, password) {\n  var cipher = input.slice(0, 128)\n  cipher = Wallet.decodeCryptojsSalt(cipher)\n  var evp = Wallet.evp_kdf(new Buffer(password), cipher.salt, {\n    keysize: 32,\n    ivsize: 16\n  })\n  var decipher = ethUtil.crypto.createDecipheriv('aes-256-cbc', evp.key, evp.iv)\n  var privKey = Wallet.decipherBuffer(decipher, new Buffer(cipher.ciphertext))\n  privKey = new Buffer((privKey.toString()), 'hex')\n  return new Wallet(privKey)\n}\nWallet.fromV3 = function (input, password, nonStrict) {\n  var json = (typeof input === 'object') ? input : JSON.parse(nonStrict ? input.toLowerCase() : input)\n  if (json.version !== 3) {\n    throw new Error('Not a V3 wallet')\n  }\n  var derivedKey\n  var kdfparams\n  if (json.crypto.kdf === 'scrypt') {\n    kdfparams = json.crypto.kdfparams\n    derivedKey = ethUtil.scrypt(new Buffer(password), new Buffer(kdfparams.salt, 'hex'), kdfparams.n, kdfparams.r, kdfparams.p, kdfparams.dklen)\n  } else if (json.crypto.kdf === 'pbkdf2') {\n    kdfparams = json.crypto.kdfparams\n    if (kdfparams.prf !== 'hmac-sha256') {\n      throw new Error('Unsupported parameters to PBKDF2')\n    }\n    derivedKey = ethUtil.crypto.pbkdf2Sync(new Buffer(password), new Buffer(kdfparams.salt, 'hex'), kdfparams.c, kdfparams.dklen, 'sha256')\n  } else {\n    throw new Error('Unsupported key derivation scheme')\n  }\n  var ciphertext = new Buffer(json.crypto.ciphertext, 'hex')\n  var mac = ethUtil.sha3(Buffer.concat([derivedKey.slice(16, 32), ciphertext]))\n  if (mac.toString('hex') !== json.crypto.mac) {\n    throw new Error('Key derivation failed - possibly wrong passphrase')\n  }\n  var decipher = ethUtil.crypto.createDecipheriv(json.crypto.cipher, derivedKey.slice(0, 16), new Buffer(json.crypto.cipherparams.iv, 'hex'))\n  var seed = Wallet.decipherBuffer(decipher, ciphertext, 'hex')\n  while (seed.length < 32) {\n    var nullBuff = new Buffer([0x00]);\n    seed = Buffer.concat([nullBuff, seed]);\n  }\n  return new Wallet(seed)\n}\nWallet.prototype.toV3String = function (password, opts) {\n  return JSON.stringify(this.toV3(password, opts))\n}\nWallet.prototype.getV3Filename = function (timestamp) {\n  var ts = timestamp ? new Date(timestamp) : new Date()\n  return ['UTC--', ts.toJSON().replace(/:/g, '-'), '--', this.getAddress().toString('hex')].join('')\n}\nWallet.decipherBuffer = function (decipher, data) {\n  return Buffer.concat([decipher.update(data), decipher.final()])\n}\nWallet.decodeCryptojsSalt = function (input) {\n  var ciphertext = new Buffer(input, 'base64')\n  if (ciphertext.slice(0, 8).toString() === 'Salted__') {\n    return {\n      salt: ciphertext.slice(8, 16),\n      ciphertext: ciphertext.slice(16)\n    }\n  } else {\n    return {\n      ciphertext: ciphertext\n    }\n  }\n}\nWallet.evp_kdf = function (data, salt, opts) {\n  // A single EVP iteration, returns `D_i`, where block equlas to `D_(i-1)`\n\n  function iter(block) {\n    var hash = ethUtil.crypto.createHash(opts.digest || 'md5')\n    hash.update(block)\n    hash.update(data)\n    hash.update(salt)\n    block = hash.digest()\n    for (var i = 1; i < (opts.count || 1); i++) {\n      hash = ethUtil.crypto.createHash(opts.digest || 'md5')\n      hash.update(block)\n      block = hash.digest()\n    }\n    return block\n  }\n  var keysize = opts.keysize || 16\n  var ivsize = opts.ivsize || 16\n  var ret = []\n  var i = 0\n  while (Buffer.concat(ret).length < (keysize + ivsize)) {\n    ret[i] = iter((i === 0) ? new Buffer(0) : ret[i - 1])\n    i++\n  }\n  var tmp = Buffer.concat(ret)\n  return {\n    key: tmp.slice(0, keysize),\n    iv: tmp.slice(keysize, keysize + ivsize)\n  }\n}\nWallet.walletRequirePass = function (ethjson) {\n  let jsonArr\n    try {\n      jsonArr = JSON.parse(ethjson)\n    } catch (err) {\n      let errtxt1 = 'This is not a valid wallet file. '\n      throw errtxt1\n    }\n    if (jsonArr.encseed != null) {\n      return true\n    } else if (jsonArr.Crypto != null || jsonArr.crypto != null) {\n      return true\n    } else if (jsonArr.hash != null && jsonArr.locked) {\n      return true\n    } else if (jsonArr.hash != null && !jsonArr.locked) {\n      return false\n    } else if (jsonArr.publisher === 'MyEtherWallet' && !jsonArr.encrypted) {\n      return false\n    } else {\n      let errtxt2 = 'Sorry! We don\\'t recognize this type of wallet file. '\n      throw errtxt2\n    }\n}\nWallet.getWalletFromPrivKeyFile = function (strjson, password) {\n  var jsonArr = JSON.parse(strjson);\n  if (jsonArr.encseed != null) return Wallet.fromEthSale(strjson, password);\n  else if (jsonArr.Crypto != null || jsonArr.crypto != null) return Wallet.fromV3(strjson, password, true);\n  else if (jsonArr.hash != null) return Wallet.fromMyEtherWallet(strjson, password);\n  else if (jsonArr.publisher === '') return Wallet.fromMyEtherWalletV2(strjson);\n  else {\n    let errtxt2 = 'Sorry! We don\\'t recognize this type of wallet file. '\n    throw errtxt2\n  }\n}\n// module.exports = Wallet;\nexport default Wallet\n","\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar createKeccakHash = require('keccak');\nvar secp256k1 = require('secp256k1');\nvar assert = require('assert');\nvar rlp = require('rlp');\nvar BN = require('bn.js');\nvar createHash = require('create-hash');\nvar Buffer = require('safe-buffer').Buffer;\nObject.assign(exports, require('ethjs-util'));\n\n/**\n * the max integer that this VM can handle (a ```BN```)\n * @var {BN} MAX_INTEGER\n */\nexports.MAX_INTEGER = new BN('ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 16);\n\n/**\n * 2^256 (a ```BN```)\n * @var {BN} TWO_POW256\n */\nexports.TWO_POW256 = new BN('10000000000000000000000000000000000000000000000000000000000000000', 16);\n\n/**\n * Keccak-256 hash of null (a ```String```)\n * @var {String} KECCAK256_NULL_S\n */\nexports.KECCAK256_NULL_S = 'c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nexports.SHA3_NULL_S = exports.KECCAK256_NULL_S;\n\n/**\n * Keccak-256 hash of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_NULL\n */\nexports.KECCAK256_NULL = Buffer.from(exports.KECCAK256_NULL_S, 'hex');\nexports.SHA3_NULL = exports.KECCAK256_NULL;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```String```)\n * @var {String} KECCAK256_RLP_ARRAY_S\n */\nexports.KECCAK256_RLP_ARRAY_S = '1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347';\nexports.SHA3_RLP_ARRAY_S = exports.KECCAK256_RLP_ARRAY_S;\n\n/**\n * Keccak-256 of an RLP of an empty array (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP_ARRAY\n */\nexports.KECCAK256_RLP_ARRAY = Buffer.from(exports.KECCAK256_RLP_ARRAY_S, 'hex');\nexports.SHA3_RLP_ARRAY = exports.KECCAK256_RLP_ARRAY;\n\n/**\n * Keccak-256 hash of the RLP of null  (a ```String```)\n * @var {String} KECCAK256_RLP_S\n */\nexports.KECCAK256_RLP_S = '56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421';\nexports.SHA3_RLP_S = exports.KECCAK256_RLP_S;\n\n/**\n * Keccak-256 hash of the RLP of null (a ```Buffer```)\n * @var {Buffer} KECCAK256_RLP\n */\nexports.KECCAK256_RLP = Buffer.from(exports.KECCAK256_RLP_S, 'hex');\nexports.SHA3_RLP = exports.KECCAK256_RLP;\n\n/**\n * [`BN`](https://github.com/indutny/bn.js)\n * @var {Function}\n */\nexports.BN = BN;\n\n/**\n * [`rlp`](https://github.com/ethereumjs/rlp)\n * @var {Function}\n */\nexports.rlp = rlp;\n\n/**\n * [`secp256k1`](https://github.com/cryptocoinjs/secp256k1-node/)\n * @var {Object}\n */\nexports.secp256k1 = secp256k1;\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nexports.zeros = function (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0);\n};\n\n/**\n  * Returns a zero address\n  * @method zeroAddress\n  * @return {String}\n  */\nexports.zeroAddress = function () {\n  var addressLength = 20;\n  var zeroAddress = exports.zeros(addressLength);\n  return exports.bufferToHex(zeroAddress);\n};\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method lsetLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nexports.setLengthLeft = exports.setLength = function (msg, length, right) {\n  var buf = exports.zeros(length);\n  msg = exports.toBuffer(msg);\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf);\n      return buf;\n    }\n    return msg.slice(0, length);\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length);\n      return buf;\n    }\n    return msg.slice(-length);\n  }\n};\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nexports.setLengthRight = function (msg, length) {\n  return exports.setLength(msg, length, true);\n};\n\n/**\n * Trims leading zeros from a `Buffer` or an `Array`\n * @param {Buffer|Array|String} a\n * @return {Buffer|Array|String}\n */\nexports.unpad = exports.stripZeros = function (a) {\n  a = exports.stripHexPrefix(a);\n  var first = a[0];\n  while (a.length > 0 && first.toString() === '0') {\n    a = a.slice(1);\n    first = a[0];\n  }\n  return a;\n};\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nexports.toBuffer = function (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v);\n    } else if (typeof v === 'string') {\n      if (exports.isHexString(v)) {\n        v = Buffer.from(exports.padToEven(exports.stripHexPrefix(v)), 'hex');\n      } else {\n        v = Buffer.from(v);\n      }\n    } else if (typeof v === 'number') {\n      v = exports.intToBuffer(v);\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0);\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer);\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray());\n    } else {\n      throw new Error('invalid type');\n    }\n  }\n  return v;\n};\n\n/**\n * Converts a `Buffer` to a `Number`\n * @param {Buffer} buf\n * @return {Number}\n * @throws If the input number exceeds 53 bits.\n */\nexports.bufferToInt = function (buf) {\n  return new BN(exports.toBuffer(buf)).toNumber();\n};\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nexports.bufferToHex = function (buf) {\n  buf = exports.toBuffer(buf);\n  return '0x' + buf.toString('hex');\n};\n\n/**\n * Interprets a `Buffer` as a signed integer and returns a `BN`. Assumes 256-bit numbers.\n * @param {Buffer} num\n * @return {BN}\n */\nexports.fromSigned = function (num) {\n  return new BN(num).fromTwos(256);\n};\n\n/**\n * Converts a `BN` to an unsigned integer and returns it as a `Buffer`. Assumes 256-bit numbers.\n * @param {BN} num\n * @return {Buffer}\n */\nexports.toUnsigned = function (num) {\n  return Buffer.from(num.toTwos(256).toArray());\n};\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nexports.keccak = function (a, bits) {\n  a = exports.toBuffer(a);\n  if (!bits) bits = 256;\n\n  return createKeccakHash('keccak' + bits).update(a).digest();\n};\n\n/**\n * Creates Keccak-256 hash of the input, alias for keccak(a, 256)\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.keccak256 = function (a) {\n  return exports.keccak(a);\n};\n\n/**\n * Creates SHA-3 (Keccak) hash of the input [OBSOLETE]\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the SHA-3 width\n * @return {Buffer}\n */\nexports.sha3 = exports.keccak;\n\n/**\n * Creates SHA256 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.sha256 = function (a) {\n  a = exports.toBuffer(a);\n  return createHash('sha256').update(a).digest();\n};\n\n/**\n * Creates RIPEMD160 hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Boolean} padded whether it should be padded to 256 bits or not\n * @return {Buffer}\n */\nexports.ripemd160 = function (a, padded) {\n  a = exports.toBuffer(a);\n  var hash = createHash('rmd160').update(a).digest();\n  if (padded === true) {\n    return exports.setLength(hash, 32);\n  } else {\n    return hash;\n  }\n};\n\n/**\n * Creates SHA-3 hash of the RLP encoded version of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @return {Buffer}\n */\nexports.rlphash = function (a) {\n  return exports.keccak(rlp.encode(a));\n};\n\n/**\n * Checks if the private key satisfies the rules of the curve secp256k1.\n * @param {Buffer} privateKey\n * @return {Boolean}\n */\nexports.isValidPrivate = function (privateKey) {\n  return secp256k1.privateKeyVerify(privateKey);\n};\n\n/**\n * Checks if the public key satisfies the rules of the curve secp256k1\n * and the requirements of Ethereum.\n * @param {Buffer} publicKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Boolean}\n */\nexports.isValidPublic = function (publicKey, sanitize) {\n  if (publicKey.length === 64) {\n    // Convert to SEC1 for secp256k1\n    return secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]), publicKey]));\n  }\n\n  if (!sanitize) {\n    return false;\n  }\n\n  return secp256k1.publicKeyVerify(publicKey);\n};\n\n/**\n * Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param {Buffer} pubKey The two points of an uncompressed key, unless sanitize is enabled\n * @param {Boolean} [sanitize=false] Accept public keys in other formats\n * @return {Buffer}\n */\nexports.pubToAddress = exports.publicToAddress = function (pubKey, sanitize) {\n  pubKey = exports.toBuffer(pubKey);\n  if (sanitize && pubKey.length !== 64) {\n    pubKey = secp256k1.publicKeyConvert(pubKey, false).slice(1);\n  }\n  assert(pubKey.length === 64);\n  // Only take the lower 160bits of the hash\n  return exports.keccak(pubKey).slice(-20);\n};\n\n/**\n * Returns the ethereum public key of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nvar privateToPublic = exports.privateToPublic = function (privateKey) {\n  privateKey = exports.toBuffer(privateKey);\n  // skip the type flag and use the X, Y points\n  return secp256k1.publicKeyCreate(privateKey, false).slice(1);\n};\n\n/**\n * Converts a public key to the Ethereum format.\n * @param {Buffer} publicKey\n * @return {Buffer}\n */\nexports.importPublic = function (publicKey) {\n  publicKey = exports.toBuffer(publicKey);\n  if (publicKey.length !== 64) {\n    publicKey = secp256k1.publicKeyConvert(publicKey, false).slice(1);\n  }\n  return publicKey;\n};\n\n/**\n * ECDSA sign\n * @param {Buffer} msgHash\n * @param {Buffer} privateKey\n * @return {Object}\n */\nexports.ecsign = function (msgHash, privateKey) {\n  var sig = secp256k1.sign(msgHash, privateKey);\n\n  var ret = {};\n  ret.r = sig.signature.slice(0, 32);\n  ret.s = sig.signature.slice(32, 64);\n  ret.v = sig.recovery + 27;\n  return ret;\n};\n\n/**\n * Returns the keccak-256 hash of `message`, prefixed with the header used by the `eth_sign` RPC call.\n * The output of this function can be fed into `ecsign` to produce the same signature as the `eth_sign`\n * call for a given `message`, or fed to `ecrecover` along with a signature to recover the public key\n * used to produce the signature.\n * @param message\n * @returns {Buffer} hash\n */\nexports.hashPersonalMessage = function (message) {\n  var prefix = exports.toBuffer('\\x19Ethereum Signed Message:\\n' + message.length.toString());\n  return exports.keccak(Buffer.concat([prefix, message]));\n};\n\n/**\n * ECDSA public key recovery from signature\n * @param {Buffer} msgHash\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {Buffer} publicKey\n */\nexports.ecrecover = function (msgHash, v, r, s) {\n  var signature = Buffer.concat([exports.setLength(r, 32), exports.setLength(s, 32)], 64);\n  var recovery = v - 27;\n  if (recovery !== 0 && recovery !== 1) {\n    throw new Error('Invalid signature v value');\n  }\n  var senderPubKey = secp256k1.recover(msgHash, signature, recovery);\n  return secp256k1.publicKeyConvert(senderPubKey, false).slice(1);\n};\n\n/**\n * Convert signature parameters into the format of `eth_sign` RPC method\n * @param {Number} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @return {String} sig\n */\nexports.toRpcSig = function (v, r, s) {\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (v !== 27 && v !== 28) {\n    throw new Error('Invalid recovery id');\n  }\n\n  // geth (and the RPC eth_sign method) uses the 65 byte format used by Bitcoin\n  // FIXME: this might change in the future - https://github.com/ethereum/go-ethereum/issues/2053\n  return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r, 32), exports.setLengthLeft(s, 32), exports.toBuffer(v - 27)]));\n};\n\n/**\n * Convert signature format of the `eth_sign` RPC method to signature parameters\n * NOTE: all because of a bug in geth: https://github.com/ethereum/go-ethereum/issues/2053\n * @param {String} sig\n * @return {Object}\n */\nexports.fromRpcSig = function (sig) {\n  sig = exports.toBuffer(sig);\n\n  // NOTE: with potential introduction of chainId this might need to be updated\n  if (sig.length !== 65) {\n    throw new Error('Invalid signature length');\n  }\n\n  var v = sig[64];\n  // support both versions of `eth_sign` responses\n  if (v < 27) {\n    v += 27;\n  }\n\n  return {\n    v: v,\n    r: sig.slice(0, 32),\n    s: sig.slice(32, 64)\n  };\n};\n\n/**\n * Returns the ethereum address of a given private key\n * @param {Buffer} privateKey A private key must be 256 bits wide\n * @return {Buffer}\n */\nexports.privateToAddress = function (privateKey) {\n  return exports.publicToAddress(privateToPublic(privateKey));\n};\n\n/**\n * Checks if the address is a valid. Accepts checksummed addresses too\n * @param {String} address\n * @return {Boolean}\n */\nexports.isValidAddress = function (address) {\n  return (/^0x[0-9a-fA-F]{40}$/.test(address)\n  );\n};\n\n/**\n  * Checks if a given address is a zero address\n  * @method isZeroAddress\n  * @param {String} address\n  * @return {Boolean}\n  */\nexports.isZeroAddress = function (address) {\n  var zeroAddress = exports.zeroAddress();\n  return zeroAddress === exports.addHexPrefix(address);\n};\n\n/**\n * Returns a checksummed address\n * @param {String} address\n * @return {String}\n */\nexports.toChecksumAddress = function (address) {\n  address = exports.stripHexPrefix(address).toLowerCase();\n  var hash = exports.keccak(address).toString('hex');\n  var ret = '0x';\n\n  for (var i = 0; i < address.length; i++) {\n    if (parseInt(hash[i], 16) >= 8) {\n      ret += address[i].toUpperCase();\n    } else {\n      ret += address[i];\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Checks if the address is a valid checksummed address\n * @param {Buffer} address\n * @return {Boolean}\n */\nexports.isValidChecksumAddress = function (address) {\n  return exports.isValidAddress(address) && exports.toChecksumAddress(address) === address;\n};\n\n/**\n * Generates an address of a newly created contract\n * @param {Buffer} from the address which is creating this new address\n * @param {Buffer} nonce the nonce of the from account\n * @return {Buffer}\n */\nexports.generateAddress = function (from, nonce) {\n  from = exports.toBuffer(from);\n  nonce = new BN(nonce);\n\n  if (nonce.isZero()) {\n    // in RLP we want to encode null in the case of zero nonce\n    // read the RLP documentation for an answer if you dare\n    nonce = null;\n  } else {\n    nonce = Buffer.from(nonce.toArray());\n  }\n\n  // Only take the lower 160bits of the hash\n  return exports.rlphash([from, nonce]).slice(-20);\n};\n\n/**\n * Returns true if the supplied address belongs to a precompiled account (Byzantium)\n * @param {Buffer|String} address\n * @return {Boolean}\n */\nexports.isPrecompiled = function (address) {\n  var a = exports.unpad(address);\n  return a.length === 1 && a[0] >= 1 && a[0] <= 8;\n};\n\n/**\n * Adds \"0x\" to a given `String` if it does not already start with \"0x\"\n * @param {String} str\n * @return {String}\n */\nexports.addHexPrefix = function (str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return exports.isHexPrefixed(str) ? str : '0x' + str;\n};\n\n/**\n * Validate ECDSA signature\n * @method isValidSignature\n * @param {Buffer} v\n * @param {Buffer} r\n * @param {Buffer} s\n * @param {Boolean} [homestead=true]\n * @return {Boolean}\n */\n\nexports.isValidSignature = function (v, r, s, homestead) {\n  var SECP256K1_N_DIV_2 = new BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n  var SECP256K1_N = new BN('fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141', 16);\n\n  if (r.length !== 32 || s.length !== 32) {\n    return false;\n  }\n\n  if (v !== 27 && v !== 28) {\n    return false;\n  }\n\n  r = new BN(r);\n  s = new BN(s);\n\n  if (r.isZero() || r.gt(SECP256K1_N) || s.isZero() || s.gt(SECP256K1_N)) {\n    return false;\n  }\n\n  if (homestead === false && new BN(s).cmp(SECP256K1_N_DIV_2) === 1) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Converts a `Buffer` or `Array` to JSON\n * @param {Buffer|Array} ba\n * @return {Array|String|null}\n */\nexports.baToJSON = function (ba) {\n  if (Buffer.isBuffer(ba)) {\n    return '0x' + ba.toString('hex');\n  } else if (ba instanceof Array) {\n    var array = [];\n    for (var i = 0; i < ba.length; i++) {\n      array.push(exports.baToJSON(ba[i]));\n    }\n    return array;\n  }\n};\n\n/**\n * Defines properties on a `Object`. It make the assumption that underlying data is binary.\n * @param {Object} self the `Object` to define properties on\n * @param {Array} fields an array fields to define. Fields can contain:\n * * `name` - the name of the properties\n * * `length` - the number of bytes the field can have\n * * `allowLess` - if the field can be less than the length\n * * `allowEmpty`\n * @param {*} data data to be validated against the definitions\n */\nexports.defineProperties = function (self, fields, data) {\n  self.raw = [];\n  self._fields = [];\n\n  // attach the `toJSON`\n  self.toJSON = function (label) {\n    if (label) {\n      var obj = {};\n      self._fields.forEach(function (field) {\n        obj[field] = '0x' + self[field].toString('hex');\n      });\n      return obj;\n    }\n    return exports.baToJSON(this.raw);\n  };\n\n  self.serialize = function serialize() {\n    return rlp.encode(self.raw);\n  };\n\n  fields.forEach(function (field, i) {\n    self._fields.push(field.name);\n    function getter() {\n      return self.raw[i];\n    }\n    function setter(v) {\n      v = exports.toBuffer(v);\n\n      if (v.toString('hex') === '00' && !field.allowZero) {\n        v = Buffer.allocUnsafe(0);\n      }\n\n      if (field.allowLess && field.length) {\n        v = exports.stripZeros(v);\n        assert(field.length >= v.length, 'The field ' + field.name + ' must not have more ' + field.length + ' bytes');\n      } else if (!(field.allowZero && v.length === 0) && field.length) {\n        assert(field.length === v.length, 'The field ' + field.name + ' must have byte length of ' + field.length);\n      }\n\n      self.raw[i] = v;\n    }\n\n    Object.defineProperty(self, field.name, {\n      enumerable: true,\n      configurable: true,\n      get: getter,\n      set: setter\n    });\n\n    if (field.default) {\n      self[field.name] = field.default;\n    }\n\n    // attach alias\n    if (field.alias) {\n      Object.defineProperty(self, field.alias, {\n        enumerable: false,\n        configurable: true,\n        set: setter,\n        get: getter\n      });\n    }\n  });\n\n  // if the constuctor is passed data\n  if (data) {\n    if (typeof data === 'string') {\n      data = Buffer.from(exports.stripHexPrefix(data), 'hex');\n    }\n\n    if (Buffer.isBuffer(data)) {\n      data = rlp.decode(data);\n    }\n\n    if (Array.isArray(data)) {\n      if (data.length > self._fields.length) {\n        throw new Error('wrong number of fields in data');\n      }\n\n      // make sure all the items are buffers\n      data.forEach(function (d, i) {\n        self[self._fields[i]] = exports.toBuffer(d);\n      });\n    } else if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n      var keys = Object.keys(data);\n      fields.forEach(function (field) {\n        if (keys.indexOf(field.name) !== -1) self[field.name] = data[field.name];\n        if (keys.indexOf(field.alias) !== -1) self[field.alias] = data[field.alias];\n      });\n    } else {\n      throw new Error('invalid data');\n    }\n  }\n};","var pbkdf2Sync = require('pbkdf2').pbkdf2Sync\n\nvar MAX_VALUE = 0x7fffffff\n\n// N = Cpu cost, r = Memory cost, p = parallelization cost\nfunction scrypt (key, salt, N, r, p, dkLen, progressCallback) {\n  if (N === 0 || (N & (N - 1)) !== 0) throw Error('N must be > 0 and a power of 2')\n\n  if (N > MAX_VALUE / 128 / r) throw Error('Parameter N is too large')\n  if (r > MAX_VALUE / 128 / p) throw Error('Parameter r is too large')\n\n  var XY = new Buffer(256 * r)\n  var V = new Buffer(128 * r * N)\n\n  // pseudo global\n  var B32 = new Int32Array(16) // salsa20_8\n  var x = new Int32Array(16) // salsa20_8\n  var _X = new Buffer(64) // blockmix_salsa8\n\n  // pseudo global\n  var B = pbkdf2Sync(key, salt, 1, p * 128 * r, 'sha256')\n\n  var tickCallback\n  if (progressCallback) {\n    var totalOps = p * N * 2\n    var currentOp = 0\n\n    tickCallback = function () {\n      ++currentOp\n\n      // send progress notifications once every 1,000 ops\n      if (currentOp % 1000 === 0) {\n        progressCallback({\n          current: currentOp,\n          total: totalOps,\n          percent: (currentOp / totalOps) * 100.0\n        })\n      }\n    }\n  }\n\n  for (var i = 0; i < p; i++) {\n    smix(B, i * 128 * r, r, N, V, XY)\n  }\n\n  return pbkdf2Sync(key, B, 1, dkLen, 'sha256')\n\n  // all of these functions are actually moved to the top\n  // due to function hoisting\n\n  function smix (B, Bi, r, N, V, XY) {\n    var Xi = 0\n    var Yi = 128 * r\n    var i\n\n    B.copy(XY, Xi, Bi, Bi + Yi)\n\n    for (i = 0; i < N; i++) {\n      XY.copy(V, i * Yi, Xi, Xi + Yi)\n      blockmix_salsa8(XY, Xi, Yi, r)\n\n      if (tickCallback) tickCallback()\n    }\n\n    for (i = 0; i < N; i++) {\n      var offset = Xi + (2 * r - 1) * 64\n      var j = XY.readUInt32LE(offset) & (N - 1)\n      blockxor(V, j * Yi, XY, Xi, Yi)\n      blockmix_salsa8(XY, Xi, Yi, r)\n\n      if (tickCallback) tickCallback()\n    }\n\n    XY.copy(B, Bi, Xi, Xi + Yi)\n  }\n\n  function blockmix_salsa8 (BY, Bi, Yi, r) {\n    var i\n\n    arraycopy(BY, Bi + (2 * r - 1) * 64, _X, 0, 64)\n\n    for (i = 0; i < 2 * r; i++) {\n      blockxor(BY, i * 64, _X, 0, 64)\n      salsa20_8(_X)\n      arraycopy(_X, 0, BY, Yi + (i * 64), 64)\n    }\n\n    for (i = 0; i < r; i++) {\n      arraycopy(BY, Yi + (i * 2) * 64, BY, Bi + (i * 64), 64)\n    }\n\n    for (i = 0; i < r; i++) {\n      arraycopy(BY, Yi + (i * 2 + 1) * 64, BY, Bi + (i + r) * 64, 64)\n    }\n  }\n\n  function R (a, b) {\n    return (a << b) | (a >>> (32 - b))\n  }\n\n  function salsa20_8 (B) {\n    var i\n\n    for (i = 0; i < 16; i++) {\n      B32[i] = (B[i * 4 + 0] & 0xff) << 0\n      B32[i] |= (B[i * 4 + 1] & 0xff) << 8\n      B32[i] |= (B[i * 4 + 2] & 0xff) << 16\n      B32[i] |= (B[i * 4 + 3] & 0xff) << 24\n      // B32[i] = B.readUInt32LE(i*4)   <--- this is signficantly slower even in Node.js\n    }\n\n    arraycopy(B32, 0, x, 0, 16)\n\n    for (i = 8; i > 0; i -= 2) {\n      x[ 4] ^= R(x[ 0] + x[12], 7)\n      x[ 8] ^= R(x[ 4] + x[ 0], 9)\n      x[12] ^= R(x[ 8] + x[ 4], 13)\n      x[ 0] ^= R(x[12] + x[ 8], 18)\n      x[ 9] ^= R(x[ 5] + x[ 1], 7)\n      x[13] ^= R(x[ 9] + x[ 5], 9)\n      x[ 1] ^= R(x[13] + x[ 9], 13)\n      x[ 5] ^= R(x[ 1] + x[13], 18)\n      x[14] ^= R(x[10] + x[ 6], 7)\n      x[ 2] ^= R(x[14] + x[10], 9)\n      x[ 6] ^= R(x[ 2] + x[14], 13)\n      x[10] ^= R(x[ 6] + x[ 2], 18)\n      x[ 3] ^= R(x[15] + x[11], 7)\n      x[ 7] ^= R(x[ 3] + x[15], 9)\n      x[11] ^= R(x[ 7] + x[ 3], 13)\n      x[15] ^= R(x[11] + x[ 7], 18)\n      x[ 1] ^= R(x[ 0] + x[ 3], 7)\n      x[ 2] ^= R(x[ 1] + x[ 0], 9)\n      x[ 3] ^= R(x[ 2] + x[ 1], 13)\n      x[ 0] ^= R(x[ 3] + x[ 2], 18)\n      x[ 6] ^= R(x[ 5] + x[ 4], 7)\n      x[ 7] ^= R(x[ 6] + x[ 5], 9)\n      x[ 4] ^= R(x[ 7] + x[ 6], 13)\n      x[ 5] ^= R(x[ 4] + x[ 7], 18)\n      x[11] ^= R(x[10] + x[ 9], 7)\n      x[ 8] ^= R(x[11] + x[10], 9)\n      x[ 9] ^= R(x[ 8] + x[11], 13)\n      x[10] ^= R(x[ 9] + x[ 8], 18)\n      x[12] ^= R(x[15] + x[14], 7)\n      x[13] ^= R(x[12] + x[15], 9)\n      x[14] ^= R(x[13] + x[12], 13)\n      x[15] ^= R(x[14] + x[13], 18)\n    }\n\n    for (i = 0; i < 16; ++i) B32[i] = x[i] + B32[i]\n\n    for (i = 0; i < 16; i++) {\n      var bi = i * 4\n      B[bi + 0] = (B32[i] >> 0 & 0xff)\n      B[bi + 1] = (B32[i] >> 8 & 0xff)\n      B[bi + 2] = (B32[i] >> 16 & 0xff)\n      B[bi + 3] = (B32[i] >> 24 & 0xff)\n      // B.writeInt32LE(B32[i], i*4)  //<--- this is signficantly slower even in Node.js\n    }\n  }\n\n  // naive approach... going back to loop unrolling may yield additional performance\n  function blockxor (S, Si, D, Di, len) {\n    for (var i = 0; i < len; i++) {\n      D[Di + i] ^= S[Si + i]\n    }\n  }\n}\n\nfunction arraycopy (src, srcPos, dest, destPos, length) {\n  if (Buffer.isBuffer(src) && Buffer.isBuffer(dest)) {\n    src.copy(dest, destPos, srcPos, srcPos + length)\n  } else {\n    while (length--) {\n      dest[destPos++] = src[srcPos++]\n    }\n  }\n}\n\nmodule.exports = scrypt\n","/********************************************************************************\n *   Ledger Communication toolkit\n *   (c) 2016 Ledger\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n ********************************************************************************/\n\nconst u2f = require(\"u2f-api\");\nvar Ledger3 = function(scrambleKey, timeoutSeconds) {\n  this.scrambleKey = new Buffer(scrambleKey, \"ascii\");\n  this.timeoutSeconds = timeoutSeconds ? timeoutSeconds : 10000 ;\n  // this.timeoutSeconds = timeoutSeconds  ;\n};\n\nLedger3.wrapApdu = function(apdu, key) {\n  var result = new Buffer(apdu.length);\n  for (var i = 0; i < apdu.length; i++) {\n    result[i] = apdu[i] ^ key[i % key.length];\n  }\n  return result;\n};\n\n// Convert from normal to web-safe, strip trailing \"=\"s\nLedger3.webSafe64 = function(base64) {\n  return base64\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n};\n\n// Convert from web-safe to normal, add trailing \"=\"s\nLedger3.normal64 = function(base64) {\n  return (\n    base64.replace(/-/g, \"+\").replace(/_/g, \"/\") +\n    \"==\".substring(0, (3 * base64.length) % 4)\n  );\n};\n\nLedger3.prototype.u2fCallback = function(response, callback) {\n  if (typeof response[\"signatureData\"] != \"undefined\") {\n    var data = new Buffer(\n      Ledger3.normal64(response[\"signatureData\"]),\n      \"base64\"\n    );\n    callback(data.toString(\"hex\", 5));\n  } else {\n    callback(undefined, response);\n  }\n};\n\n// callback is function(response, error)\nLedger3.prototype.exchange = function(apduHex, callback) {\n  var apdu = new Buffer(apduHex, \"hex\");\n  var keyHandle = Ledger3.wrapApdu(apdu, this.scrambleKey);\n  var challenge = new Buffer(\n    \"0000000000000000000000000000000000000000000000000000000000000000\",\n    \"hex\"\n  );\n  var key = {};\n  key[\"appId\"] = window.location.origin;\n  key[\"challenge\"] = Ledger3.webSafe64(challenge.toString(\"base64\"));\n  key[\"version\"] = \"U2F_V2\";\n  key[\"keyHandle\"] = Ledger3.webSafe64(keyHandle.toString(\"base64\"));\n  var self = this;\n  var localCallback = function(result) {\n    // console.log(result)\n    self.u2fCallback(result, callback);\n  };\n  // console.log(this)\n  // console.log(this.timeoutSeconds)\n  u2f.sign([key], this.timeoutSeconds).then(localCallback).catch(err => {\n    // console.log(err)\n    callback(undefined, err)\n  })\n};\n\nmodule.exports = Ledger3;\n// export default Ledger3\n","/********************************************************************************\n*   Ledger Communication toolkit\n*   (c) 2016 Ledger\n*\n*  Licensed under the Apache License, Version 2.0 (the \"License\");\n*  you may not use this file except in compliance with the License.\n*  You may obtain a copy of the License at\n*\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n*  Unless required by applicable law or agreed to in writing, software\n*  distributed under the License is distributed on an \"AS IS\" BASIS,\n*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n*  See the License for the specific language governing permissions and\n*  limitations under the License.\n********************************************************************************/\n\nlet LedgerEth = function(comm) {\n\tthis.comm = comm;\n}\n\nLedgerEth.splitPath = function(path) {\n\tlet result = [];\n\tlet components = path.split('/');\n\tcomponents.forEach(function (element, index) {\n\t\tlet number = parseInt(element, 10);\n\t\tif (isNaN(number)) {\n\t\t\treturn;\n\t\t}\n\t\tif ((element.length > 1) && (element[element.length - 1] === \"'\")) {\n\t\t\tnumber += 0x80000000;\n\t\t}\n\t\tresult.push(number);\n\t});\n\treturn result;\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.getAddress = function(path, callback, boolDisplay, boolChaincode) {\n\tlet splitPath = LedgerEth.splitPath(path);\n\tlet buffer = new Buffer(5 + 1 + splitPath.length * 4);\n\tbuffer[0] = 0xe0;\n\tbuffer[1] = 0x02;\n\tbuffer[2] = (boolDisplay ? 0x01 : 0x00);\n\tbuffer[3] = (boolChaincode ? 0x01 : 0x00);\n\tbuffer[4] = 1 + splitPath.length * 4;\n\tbuffer[5] = splitPath.length;\n\tsplitPath.forEach(function (element, index) {\n\t\tbuffer.writeUInt32BE(element, 6 + 4 * index);\n\t});\n\tlet self = this;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tlet result = {};\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n\t\t\t\tcallback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet publicKeyLength = response[0];\n\t\t\tlet addressLength = response[1 + publicKeyLength];\n\t\t\tresult['publicKey'] = response.slice(1, 1 + publicKeyLength).toString('hex');\n\t\t\tresult['address'] = \"0x\" + response.slice(1 + publicKeyLength + 1, 1 + publicKeyLength + 1 + addressLength).toString('ascii');\n\t\t\tif (boolChaincode) {\n\t\t\t\tresult['chainCode'] = response.slice(1 + publicKeyLength + 1 + addressLength, 1 + publicKeyLength + 1 + addressLength + 32).toString('hex');\n\t\t\t}\n\t\t\tcallback(result);\n\t\t}\n\t};\n\tthis.comm.exchange(buffer.toString('hex'), localCallback);\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.signTransaction = function(path, rawTxHex, callback) {\n\tlet splitPath = LedgerEth.splitPath(path);\n\tlet offset = 0;\n\tlet rawTx = new Buffer(rawTxHex, 'hex');\n\tlet apdus = [];\n\twhile (offset !== rawTx.length) {\n\t\tlet maxChunkSize = (offset === 0 ? (150 - 1 - splitPath.length * 4) : 150)\n\t\tlet chunkSize = (offset + maxChunkSize > rawTx.length ? rawTx.length - offset : maxChunkSize);\n\t\tlet buffer = new Buffer(offset === 0 ? 5 + 1 + splitPath.length * 4 + chunkSize : 5 + chunkSize);\n\t\tbuffer[0] = 0xe0;\n\t\tbuffer[1] = 0x04;\n\t\tbuffer[2] = (offset === 0 ? 0x00 : 0x80);\n\t\tbuffer[3] = 0x00;\n\t\tbuffer[4] = (offset === 0 ? 1 + splitPath.length * 4 + chunkSize : chunkSize);\n\t\tif (offset === 0) {\n\t\t\tbuffer[5] = splitPath.length;\n\t\t\tsplitPath.forEach(function (element, index) {\n\t\t\t\tbuffer.writeUInt32BE(element, 6 + 4 * index);\n\t\t\t});\n\t\t\trawTx.copy(buffer, 6 + 4 * splitPath.length, offset, offset + chunkSize);\n\t\t}\n\t\telse {\n\t\t\trawTx.copy(buffer, 5, offset, offset + chunkSize);\n\t\t}\n\t\tapdus.push(buffer.toString('hex'));\n\t\toffset += chunkSize;\n\t}\n\tlet self = this;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n        callback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure contract data is on ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (apdus.length === 0) {\n\t\t\t\t\tlet result = {};\n\t\t\t\t\tresult['v'] = response.slice(0, 1).toString('hex');\n\t\t\t\t\tresult['r'] = response.slice(1, 1 + 32).toString('hex');\n\t\t\t\t\tresult['s'] = response.slice(1 + 32, 1 + 32 + 32).toString('hex');\n\t\t\t\t\tcallback(result);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tself.comm.exchange(apdus.shift(), localCallback);\n\t\t\t}\n\t\t}\n\t};\n\tself.comm.exchange(apdus.shift(), localCallback);\n}\n\n// callback is function(response, error)\nLedgerEth.prototype.getAppConfiguration = function(callback) {\n\tlet buffer = new Buffer(5);\n\tbuffer[0] = 0xe0;\n\tbuffer[1] = 0x06;\n\tbuffer[2] = 0x00;\n\tbuffer[3] = 0x00;\n\tbuffer[4] = 0x00;\n\tlet localCallback = function(response, error) {\n\t\tif (typeof error !== \"undefined\") {\n\t\t\tcallback(undefined, error);\n\t\t}\n\t\telse {\n\t\t\tresponse = new Buffer(response, 'hex');\n\t\t\tlet result = {};\n\t\t\tlet sw = response.readUInt16BE(response.length - 2);\n\t\t\tif (sw !== 0x9000) {\n\t\t\t\tcallback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult['arbitraryDataEnabled'] = (response[0] & 0x01);\n\t\t\tresult['version'] = \"\" + response[1] + '.' + response[2] + '.' + response[3];\n\t\t\tcallback(result);\n\t\t}\n\t};\n\tthis.comm.exchange(buffer.toString('hex'), localCallback);\n}\n\nLedgerEth.prototype.signPersonalMessage_async = function(path, messageHex, callback) {\n  let splitPath = LedgerEth.splitPath(path);\n  let offset = 0;\n  let message = new Buffer(messageHex, 'hex');\n  let apdus = [];\n  let response = [];\n  let self = this;\n  while (offset !== message.length) {\n    let maxChunkSize = (offset === 0 ? (150 - 1 - splitPath.length * 4 - 4) : 150)\n    let chunkSize = (offset + maxChunkSize > message.length ? message.length - offset : maxChunkSize);\n    let buffer = new Buffer(offset === 0 ? 5 + 1 + splitPath.length * 4 + 4 + chunkSize : 5 + chunkSize);\n    buffer[0] = 0xe0;\n    buffer[1] = 0x08;\n    buffer[2] = (offset === 0 ? 0x00 : 0x80);\n    buffer[3] = 0x00;\n    buffer[4] = (offset === 0 ? 1 + splitPath.length * 4 + 4 + chunkSize : chunkSize);\n    if (offset === 0) {\n      buffer[5] = splitPath.length;\n      splitPath.forEach(function (element, index) {\n        buffer.writeUInt32BE(element, 6 + 4 * index);\n      });\n      buffer.writeUInt32BE(message.length, 6 + 4 * splitPath.length);\n      message.copy(buffer, 6 + 4 * splitPath.length + 4, offset, offset + chunkSize);\n    }\n    else {\n      message.copy(buffer, 5, offset, offset + chunkSize);\n    }\n    apdus.push(buffer.toString('hex'));\n    offset += chunkSize;\n  }\n  let localCallback = function(response, error) {\n    if (typeof error !== \"undefined\") {\n      callback(undefined, error);\n    }\n    else {\n      response = new Buffer(response, 'hex');\n      let sw = response.readUInt16BE(response.length - 2);\n      if (sw !== 0x9000) {\n        callback(undefined, \"Invalid status \" + sw.toString(16) + \". Check to make sure the right application is selected ?\");\n        return;\n      }\n      if (apdus.length === 0) {\n          let result = {};\n          result['v'] = response.slice(0, 1).toString('hex');\n          result['r'] = response.slice(1, 1 + 32).toString('hex');\n          result['s'] = response.slice(1 + 32, 1 + 32 + 32).toString('hex');\n          callback(result);\n      }\n      else {\n        self.comm.exchange(apdus.shift(), localCallback);\n      }\n    }\n  };\n  self.comm.exchange(apdus.shift(), localCallback);\n}\n\nmodule.exports = LedgerEth;\n// export default LedgerEth\n\n","import axios from 'axios'\nimport qs from \"qs\"\nimport getNetConfig from '../../config'\n\nconst ID_CODE = 'ID_CODE'\nconst config = getNetConfig();\n\nexport function recordTxns (txnData, type, pairs, account, to, outChainId) {\n  let idCode = localStorage.getItem(ID_CODE) ? localStorage.getItem(ID_CODE) : ''\n  let hash = txnData.hash, outHash = ''\n  if (type === 'DEPOSIT') {\n    hash = ''\n    outHash = txnData.hash\n  }\n  axios.post(config.recordsTxnsUrl, qs.stringify({\n    hash: hash,\n    from: account,\n    to: to,\n    pairs: pairs,\n    chainId: config.chainID,\n    outHash: outHash,\n    outChainId: outChainId ? outChainId : '',\n    type: type,\n    idCode: idCode,\n    status: 0,\n    timestamp: Date.now(),\n  })).then(res => {\n    console.log(res)\n  })\n}\n\n","import styled from \"styled-components\";\nimport { RowBetween } from \"../Row\";\n\nexport const BalanceText = styled(Text)`\n\twhite-space: nowrap;\n\toverflow: hidden;\n\tmax-width: 5rem;\n\ttext-overflow: ellipsis;\n`;\n\nexport const MenuItem = styled(RowBetween)`\n\tpadding: 4px 20px;\n\theight: 56px;\n\tdisplay: grid;\n\tgrid-template-columns: auto minmax(auto, 1fr) auto;\n\tgrid-gap: 16px;\n\tcursor: ${({ disabled }) => !disabled && \"pointer\"};\n\tpointer-events: ${({ disabled }) => disabled && \"none\"};\n\topacity: ${({ disabled, selected }) => (disabled || selected ? 0.5 : 1)};\n\n\t&:hover {\n\t\tbackground-color: ${({ theme, disabled }) => !disabled && theme.bg1};\n\t}\n`;\n","import { Spinner } from \"react-bootstrap\";\nimport { Text } from \"rebass\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { TYPE } from \"../../theme\";\nimport Column from \"../Column\";\nimport { RowFixed } from \"../Row\";\nimport TokenLogo from \"../Logo/CrossTokenLogo\";\nimport * as Styled from \"./styleds\";\n\nexport interface CurrencyRowProps {\n\tcurrency?: any;\n\tonSelect?: any;\n\turlAdded?: any;\n\tuserAdded?: any;\n\tstyle?: any;\n}\n\nexport const CurrencyRow = ({ currency, onSelect, urlAdded, userAdded, style }: CurrencyRowProps) => {\n\tconst { account } = useActiveWeb3React();\n\n\treturn (\n\t\t<Styled.MenuItem style={style} className={`cross-token-item-${currency.symbol}`} onClick={onSelect}>\n\t\t\t<TokenLogo address={currency.symbol} size={\"24px\"} />\n\t\t\t<Column>\n\t\t\t\t<Text title={currency.name} fontWeight={500}>\n\t\t\t\t\t{currency.symbol}\n\t\t\t\t</Text>\n\t\t\t\t<TYPE.DarkGray ml=\"0px\" fontSize={\"12px\"} fontWeight={300}>\n\t\t\t\t\t{currency.name} {userAdded && \" Added by user\"}\n\t\t\t\t\t{urlAdded && \" Added by url\"}\n\t\t\t\t</TYPE.DarkGray>\n\t\t\t</Column>\n\t\t\t<RowFixed style={{ justifySelf: \"flex-end\" }}>\n\t\t\t\t{currency.balance ? (\n\t\t\t\t\t<Styled.BalanceText>{currency.balance}</Styled.BalanceText>\n\t\t\t\t) : account ? (\n\t\t\t\t\t<Spinner animation=\"border\" />\n\t\t\t\t) : (\n\t\t\t\t\t\"-\"\n\t\t\t\t)}\n\t\t\t</RowFixed>\n\t\t</Styled.MenuItem>\n\t);\n};\n","import React, { useCallback } from \"react\";\nimport { FixedSizeList } from \"react-window\";\nimport { ETHER, Token } from \"@uniswap/sdk\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport useTheme from \"../../hooks/useTheme\";\nimport getNetConfig from \"../../config\";\nimport { INITIAL_TOKENS_CONTEXT } from \"../../contexts/Tokens\";\nimport { CurrencyRow } from \"./CurrencyRow\";\n\nconst config = getNetConfig();\n\nfunction currencyKey(currency) {\n\treturn currency instanceof Token ? currency.address : currency === ETHER ? \"ETHER\" : \"\";\n}\n\nexport interface CurrencyListProps {\n\theight?: any;\n\tcurrencies?: any;\n\tonCurrencySelect?: any;\n\tshowETH?: any;\n\turlAddedTokens?: any;\n\tfixedListRef?: any;\n}\n\nconst CurrencyList = ({\n\theight,\n\tcurrencies,\n\tonCurrencySelect,\n\tshowETH,\n\turlAddedTokens,\n\tfixedListRef,\n}: CurrencyListProps) => {\n\tconst { chainId } = useActiveWeb3React();\n\tconst theme = useTheme();\n\n\tconst Row = useCallback(\n\t\t({ data, index, style }) => {\n\t\t\tconst currency = data[index];\n\t\t\tconst address = currency.address;\n\n\t\t\tconst urlAdded = urlAddedTokens && urlAddedTokens.hasOwnProperty(address);\n\t\t\tconst customAdded =\n\t\t\t\taddress !== config.symbol &&\n\t\t\t\tINITIAL_TOKENS_CONTEXT[chainId] &&\n\t\t\t\t!INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(address) &&\n\t\t\t\t!urlAdded;\n\n\t\t\tif (!showETH && address === config.symbol) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst handleSelect = () => onCurrencySelect(address);\n\n\t\t\treturn (\n\t\t\t\t<CurrencyRow\n\t\t\t\t\tstyle={style}\n\t\t\t\t\tcurrency={currency}\n\t\t\t\t\turlAdded={urlAdded}\n\t\t\t\t\tuserAdded={customAdded}\n\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t[chainId, onCurrencySelect, theme.text1]\n\t);\n\n\tconst itemKey = useCallback((index, data) => currencyKey(data[index]), []);\n\n\treturn (\n\t\t<FixedSizeList\n\t\t\theight={height}\n\t\t\tref={fixedListRef}\n\t\t\twidth=\"100%\"\n\t\t\titemData={currencies}\n\t\t\titemCount={currencies.length}\n\t\t\titemSize={56}\n\t\t\titemKey={itemKey}\n\t\t>\n\t\t\t{Row}\n\t\t</FixedSizeList>\n\t);\n};\n\nexport default CurrencyList;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDropdown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    opacity: 0.8\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 12,\n    fill: \"currentColor\",\n    fillOpacity: 0.15\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.0002 9.17019C16.8128 8.98394 16.5594 8.87939 16.2952 8.87939C16.031 8.87939 15.7776 8.98394 15.5902 9.17019L12.0002 12.7102L8.46019 9.17019C8.27283 8.98394 8.01938 8.87939 7.75519 8.87939C7.49101 8.87939 7.23756 8.98394 7.05019 9.17019C6.95646 9.26315 6.88207 9.37375 6.8313 9.49561C6.78053 9.61747 6.75439 9.74818 6.75439 9.88019C6.75439 10.0122 6.78053 10.1429 6.8313 10.2648C6.88207 10.3866 6.95646 10.4972 7.05019 10.5902L11.2902 14.8302C11.3832 14.9239 11.4938 14.9983 11.6156 15.0491C11.7375 15.0998 11.8682 15.126 12.0002 15.126C12.1322 15.126 12.2629 15.0998 12.3848 15.0491C12.5066 14.9983 12.6172 14.9239 12.7102 14.8302L17.0002 10.5902C17.0939 10.4972 17.1683 10.3866 17.2191 10.2648C17.2699 10.1429 17.296 10.0122 17.296 9.88019C17.296 9.74818 17.2699 9.61747 17.2191 9.49561C17.1683 9.37375 17.0939 9.26315 17.0002 9.17019Z\",\n    fill: \"currentColor\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDropdown);\nexport default __webpack_public_path__ + \"static/media/dropdown.9d3490eb.svg\";\nexport { ForwardRef as ReactComponent };","import { useMemo, useRef, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport escapeStringRegex from \"escape-string-regexp\";\nimport BigNumber from \"bignumber.js\";\n\nimport getNetConfig from \"../../config\";\nimport { useAllBalances } from \"../../contexts/Balances\";\nimport { useAllTokenDetails } from \"../../contexts/Tokens\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport useTheme from \"../../hooks/useTheme\";\nimport { isAddress } from \"../../utils\";\nimport { formatEthBalance, formatTokenBalance } from \"../../utils/cross\";\nimport Column from \"../Column\";\nimport { FormControl } from \"../Form\";\nimport Modal from \"../Modal\";\nimport { PaddedColumn, Separator } from \"../SearchModal/styleds\";\nimport CurrencyList from \"./CurrencyList\";\n\nconst config = getNetConfig();\n\nexport interface CurrencySelectModalProps {\n\tisOpen?: any;\n\tonDismiss?: any;\n\tonTokenSelect?: any;\n\turlAddedTokens?: any;\n\thideETH?: any;\n\tselfUseAllToken?: any;\n}\n\nexport const CurrencySelectModal = ({\n\tisOpen,\n\tonDismiss,\n\tonTokenSelect,\n\turlAddedTokens,\n\thideETH,\n\tselfUseAllToken,\n}: CurrencySelectModalProps) => {\n\tconst { t } = useTranslation();\n\tconst theme = useTheme();\n\n\tconst fixedList = useRef();\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\n\tlet allTokens = useAllTokenDetails(),\n\t\tuseTokens = {};\n\tif (selfUseAllToken.length > 0) {\n\t\tfor (let obj in allTokens) {\n\t\t\tif (selfUseAllToken.includes(obj)) continue;\n\t\t\tuseTokens[obj] = allTokens[obj];\n\t\t}\n\t\tallTokens = useTokens;\n\t}\n\n\tconst { account } = useActiveWeb3React();\n\n\tconst allBalances = useAllBalances();\n\n\tconst tokenList = useMemo(() => {\n\t\treturn Object.keys(allTokens).map((k) => {\n\t\t\tlet balance;\n\t\t\t// only update if we have data\n\t\t\tif (\n\t\t\t\tk === config.symbol &&\n\t\t\t\tallBalances[account] &&\n\t\t\t\tallBalances[account][k] &&\n\t\t\t\tallBalances[account][k].value\n\t\t\t) {\n\t\t\t\tbalance = formatEthBalance(new BigNumber(allBalances[account][k].value));\n\t\t\t} else if (allBalances[account] && allBalances[account][k] && allBalances[account][k].value) {\n\t\t\t\tbalance = formatTokenBalance(new BigNumber(allBalances[account][k].value), allTokens[k].decimals);\n\t\t\t}\n\t\t\t// console.log(allTokens[k].decimals)\n\t\t\t// console.log(balance)\n\t\t\treturn {\n\t\t\t\tname: allTokens[k].name,\n\t\t\t\tsymbol: allTokens[k].symbol,\n\t\t\t\taddress: k,\n\t\t\t\tbalance: balance,\n\t\t\t\tisSwitch: allTokens[k].isSwitch,\n\t\t\t};\n\t\t});\n\t}, [allBalances, allTokens, account]);\n\n\tconst filteredTokenList = useMemo(() => {\n\t\tconst list = tokenList.filter((tokenEntry) => {\n\t\t\tconst inputIsAddress = searchQuery.slice(0, 2) === \"0x\";\n\n\t\t\t// check the regex for each field\n\t\t\tconst regexMatches = Object.keys(tokenEntry).map((tokenEntryKey) => {\n\t\t\t\t// if address field only search if input starts with 0x.\n\t\t\t\tif (tokenEntryKey === \"address\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tinputIsAddress &&\n\t\t\t\t\t\ttypeof tokenEntry[tokenEntryKey] === \"string\" &&\n\t\t\t\t\t\t!!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), \"i\"))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\ttypeof tokenEntry[tokenEntryKey] === \"string\" &&\n\t\t\t\t\t!!tokenEntry[tokenEntryKey].match(new RegExp(escapeStringRegex(searchQuery), \"i\"))\n\t\t\t\t);\n\t\t\t});\n\t\t\treturn regexMatches.some((m) => m);\n\t\t});\n\t\t// If the user has not inputted anything, preserve previous sort\n\t\tif (searchQuery === \"\") return list;\n\t\treturn list.sort((a, b) => {\n\t\t\treturn a.symbol.toLowerCase() === searchQuery.toLowerCase() ? -1 : 1;\n\t\t});\n\t}, [tokenList, searchQuery]);\n\n\tconst inputRef = useRef();\n\n\tfunction _onTokenSelect(address) {\n\t\tconsole.log(address);\n\t\tsetSearchQuery(\"\");\n\t\tonTokenSelect(address);\n\t\tonDismiss();\n\t}\n\n\tfunction onInput(event) {\n\t\tconst input = event.target.value;\n\t\tconst checksummedInput = isAddress(input);\n\t\tsetSearchQuery(checksummedInput || input);\n\t}\n\n\tfunction clearInputAndDismiss() {\n\t\tsetSearchQuery(\"\");\n\t\tonDismiss();\n\t}\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onDismiss={clearInputAndDismiss} maxHeight={80} minHeight={80}>\n\t\t\t<Column style={{ width: \"100%\", flex: \"1 1\", minHeight: \"100px\" }}>\n\t\t\t\t<PaddedColumn gap=\"14px\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tsize={\"lg\"}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: theme.bg1,\n\t\t\t\t\t\t\tcolor: theme.text1,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid=\"token-search-input\"\n\t\t\t\t\t\tplaceholder={t(\"tokenSearchPlaceholder\")}\n\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\tonChange={onInput}\n\t\t\t\t\t/>\n\t\t\t\t</PaddedColumn>\n\t\t\t\t<Separator />\n\n\t\t\t\t<div style={{ flex: \"1\" }}>\n\t\t\t\t\t<AutoSizer disableWidth>\n\t\t\t\t\t\t{({ height }) => (\n\t\t\t\t\t\t\t<CurrencyList\n\t\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\t\tcurrencies={filteredTokenList}\n\t\t\t\t\t\t\t\tonCurrencySelect={_onTokenSelect}\n\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\tfixedListRef={fixedList}\n\t\t\t\t\t\t\t\tshowETH={!hideETH}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</AutoSizer>\n\t\t\t\t</div>\n\t\t\t</Column>\n\t\t</Modal>\n\t);\n};\n","import { CurrencySelectModal } from \"./CurrencySelectModal\";\nexport default CurrencySelectModal;\n","import styled from \"styled-components\";\nimport { ReactComponent as DropDown } from \"../../assets/images/cross/dropdown.svg\";\n\nexport const InputRow = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\tpadding: 0.75rem 0;\n\n\t@media (min-width: 992px) {\n\t\tpadding: 3px 0;\n\t}\n\n\t@media (max-width: 380px) {\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n`;\n\nexport const CurrencyLogoContainer = styled.div`\n\twidth: 32px;\n\theight: 32px;\n\n\t@media (max-width: 991px) {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t}\n`;\n\nexport const Label = styled.span`\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-weight: 400;\n\tfont-size: 0.875rem;\n\tpadding: 0;\n\n\t@media (min-width: 768px) {\n\t\tpadding: 0 1.25rem;\n\t}\n`;\n\nexport const CurrencySelect = styled.button`\n\talign-items: center;\n\theight: 56px;\n\tfont-size: 0.875rem;\n\tfont-weight: 500;\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\tcolor: ${({ theme }) => theme.primary};\n\tborder-radius: 12px;\n\tbox-shadow: none;\n\toutline: none;\n\tcursor: pointer;\n\tuser-select: none;\n\tborder: none;\n\tmin-width: 116px;\n\twidth: 116px;\n\ttransition: 0.3s ease all;\n\n\t@media (min-width: 768px) {\n\t\theight: 80px;\n\t\tmin-width: 178px;\n\t\twidth: 178px;\n\t\tpadding: 0.25rem 0.625rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 500;\n\t}\n\n\t@media (min-width: 992px) {\n\t\tmin-width: 255px;\n\t\twidth: 255px;\n\t\tpadding: 4px 1.5rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 500;\n\t}\n\n\t@media (max-width: 380px) {\n\t\twidth: 100%;\n\t}\n\n\t&:focus,\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\tcolor: #202020;\n\t\toutline: none;\n\t}\n`;\n\nexport const LabelRow = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tfont-size: 0.75rem;\n\tline-height: 1rem;\n\tpadding: 0;\n`;\n\nexport const InputContainer = styled.div`\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: nowrap;\n\tflex: 1;\n`;\n\nexport const Aligner = styled.span`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\ttext-align: left;\n`;\n\nexport const CustomDropDown = styled(DropDown)`\n\tmargin-top: 4px;\n\tmargin-left: 4px;\n\theight: 24px;\n\twidth: 24px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-top: 0;\n\t}\n\n\t@media (max-width: 576px) {\n\t\tmargin-left: 4px;\n\t\theight: 16px;\n\t\twidth: 16px;\n\t}\n`;\n\nexport const InputPanel = styled.div<{ withoutMargin?: boolean }>`\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tposition: relative;\n\tz-index: 1;\n\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \"0.5rem\" : \"1rem\")};\n\n\t@media (min-width: 768px) {\n\t\tmargin-bottom: ${({ withoutMargin }) => (withoutMargin ? \"0.5rem\" : \"1.75rem\")};\n\t}\n`;\n\nexport const TokenSymbol = styled.span`\n\tmargin-right: auto;\n\tpadding-left: 0.875rem;\n\tfont-size: 0.875rem;\n\tline-height: 18px;\n\tdisplay: block;\n\tmargin-bottom: 3px;\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n\t\tfont-size: 1rem;\n\t\tline-height: 21px;\n\t}\n`;\n\nexport const TokenName = styled.span`\n\tmargin-right: auto;\n\tpadding-left: 0.875rem;\n\tfont-size: 0.75rem;\n\tline-height: 15px;\n\tmargin-bottom: 3px;\n\tdisplay: none;\n\n\t@media (min-width: 768px) {\n\t\tpadding-left: 1rem;\n\t\tfont-size: 0.875rem;\n\t\tline-height: 18px;\n\t\tdisplay: block;\n\t}\n`;\n\nexport const BalanceMax = styled.button`\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\tborder: none;\n\tborder-radius: 10px;\n\tfont-size: 1rem;\n\tpadding: 0.25rem 0.625rem;\n\theight: 32px;\n\tmax-height: 32px;\n\tfont-weight: 500;\n\tcursor: pointer;\n\tcolor: ${({ theme }) => theme.primary};\n\tposition: absolute;\n\tbottom: calc(100% + 10px);\n\tright: 0;\n\ttransition: all ease 0.3s;\n\n\t@media (min-width: 768px) {\n\t\theight: 40px;\n\t\tmax-height: 40px;\n\t\tpadding: 0.5rem;\n\t\ttop: 8px;\n\t\tright: 8px;\n\t}\n\n\t&:hover {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\tcolor: ${({ theme }) => theme.bg1};\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n`;\n\nexport const NumericalInput = styled.input<{ align?: any; error?: boolean }>`\n\tcolor: ${({ error, theme }) => (error ? theme.red1 : theme.text1)};\n\twidth: 0;\n\tposition: relative;\n\tfont-family: inherit;\n\toutline: none;\n\tflex: 1 1 auto;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\ttext-align: ${({ align }) => align && align};\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\t-webkit-appearance: textfield;\n\tborder-radius: 12px;\n\theight: 56px;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\tpadding: 1rem 20px;\n\tborder: none;\n\tmargin-right: 40px;\n\n\t::-webkit-search-decoration {\n\t\t-webkit-appearance: none;\n\t}\n\n\t[type=\"number\"] {\n\t\t-moz-appearance: textfield;\n\t}\n\n\t::-webkit-outer-spin-button,\n\t::-webkit-inner-spin-button {\n\t\t-webkit-appearance: none;\n\t}\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.text3};\n\t}\n\n\t@media (min-width: 768px) {\n\t\tpadding-right: 4.5625rem;\n\t}\n\n\t@media (max-width: 767px) {\n\t\tmargin-right: 24px;\n\t}\n\n\t@media (max-width: 576px) {\n\t\tmargin-right: 16px;\n\t}\n\n\t@media (max-width: 380px) {\n\t\tmargin-right: 0;\n\t\tmargin-bottom: 12px;\n\t}\n`;\n","import { BridgeInputPanel } from \"./BridgeInputPanel\";\nexport default BridgeInputPanel;\n","import { useState, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useAllTokenDetails } from \"../../contexts/Tokens\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport CurrencySearchModal from \"../BridgeCurrencySelectModal\";\nimport TokenLogo from \"../Logo/CrossTokenLogo\";\nimport { RowBetween } from \"../Row\";\nimport * as Styled from \"./styleds\";\n\nexport interface BridgeInputPanelProps {\n\tvalue?: any;\n\tonUserInput?: any;\n\tonMax?: any;\n\tshowMaxButton?: any;\n\tlabel?: any;\n\tonCurrencySelect?: any;\n\tcurrency?: any;\n\tdisableCurrencySelect?: any;\n\thideInput?: any;\n\totherCurrency?: any;\n\tid?: any;\n\tshowCommonBases?: any;\n\twithoutMargin?: any;\n\terrorMessage?: any;\n\tdisableTokenSelect?: any;\n\tselectedTokenAddress?: any;\n\tisSelfSymbol?: any;\n\tisSelfLogo?: any;\n\tisSelfName?: any;\n\tselfUseAllToken: any;\n}\n\nexport const BridgeInputPanel = ({\n\tvalue,\n\tonUserInput,\n\tonMax,\n\tshowMaxButton,\n\tlabel = \"Input\",\n\tonCurrencySelect,\n\tcurrency,\n\tdisableCurrencySelect = false,\n\thideInput = false,\n\totherCurrency,\n\tid,\n\tshowCommonBases,\n\twithoutMargin = false,\n\terrorMessage,\n\tdisableTokenSelect,\n\tselectedTokenAddress = \"\",\n\tisSelfSymbol,\n\tisSelfLogo,\n\tisSelfName,\n\tselfUseAllToken = [],\n}: BridgeInputPanelProps) => {\n\tconst { t } = useTranslation();\n\n\tconst [modalIsOpen, setModalIsOpen] = useState(false);\n\tconst [modalIsOpenTime, setModalIsOpenTime] = useState(1);\n\tconst { account } = useActiveWeb3React();\n\n\tlet allTokens = useAllTokenDetails();\n\n\tconst handleDismissSearch = useCallback(() => {\n\t\tsetModalIsOpen(false);\n\t}, [setModalIsOpen]);\n\n\treturn (\n\t\t<Styled.InputPanel id={id} withoutMargin={withoutMargin}>\n\t\t\t<div>\n\t\t\t\t{!hideInput && (\n\t\t\t\t\t<Styled.LabelRow>\n\t\t\t\t\t\t<RowBetween>\n\t\t\t\t\t\t\t<Styled.Label>{label}</Styled.Label>\n\t\t\t\t\t\t</RowBetween>\n\t\t\t\t\t</Styled.LabelRow>\n\t\t\t\t)}\n\t\t\t\t<Styled.InputRow style={hideInput ? { padding: \"0\", borderRadius: \"0.42rem\" } : {}}>\n\t\t\t\t\t{!hideInput && (\n\t\t\t\t\t\t<Styled.InputContainer>\n\t\t\t\t\t\t\t<Styled.NumericalInput\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tstep=\"0.000000000000000001\"\n\t\t\t\t\t\t\t\terror={!!errorMessage}\n\t\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\t\tvalue={isNaN(value) ? \"\" : value}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tonUserInput(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonKeyPress={(e) => {\n\t\t\t\t\t\t\t\t\tconst charCode = e.which ? e.which : e.keyCode;\n\n\t\t\t\t\t\t\t\t\t// Prevent 'minus' character\n\t\t\t\t\t\t\t\t\tif (charCode === 45) {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{account && currency && showMaxButton && (\n\t\t\t\t\t\t\t\t<Styled.BalanceMax onClick={onMax}>{t(\"max\")}</Styled.BalanceMax>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Styled.InputContainer>\n\t\t\t\t\t)}\n\t\t\t\t\t<Styled.CurrencySelect\n\t\t\t\t\t\tclassName=\"open-currency-select-button\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (!disableTokenSelect) {\n\t\t\t\t\t\t\t\tif (modalIsOpenTime) {\n\t\t\t\t\t\t\t\t\tsetModalIsOpenTime(0);\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tsetModalIsOpenTime(1);\n\t\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t\t\tsetModalIsOpen(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Styled.Aligner>\n\t\t\t\t\t\t\t{isSelfSymbol ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{selectedTokenAddress &&\n\t\t\t\t\t\t\t\t\t\t(isSelfLogo ? (\n\t\t\t\t\t\t\t\t\t\t\t<Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t<TokenLogo address={isSelfLogo} size={\"100%\"} />\n\t\t\t\t\t\t\t\t\t\t\t</Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t<TokenLogo\n\t\t\t\t\t\t\t\t\t\t\t\t\taddress={allTokens[selectedTokenAddress].symbol}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={\"100%\"}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t{isSelfSymbol ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-stretch flex-column flex-grow-1 text-align-left\">\n\t\t\t\t\t\t\t\t\t\t\t<Styled.TokenSymbol>{isSelfSymbol}</Styled.TokenSymbol>\n\t\t\t\t\t\t\t\t\t\t\t<Styled.TokenName>\n\t\t\t\t\t\t\t\t\t\t\t\t{isSelfName ? isSelfName : allTokens[selectedTokenAddress].name}\n\t\t\t\t\t\t\t\t\t\t\t</Styled.TokenName>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tt(\"selectToken\")\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{selectedTokenAddress && (\n\t\t\t\t\t\t\t\t\t\t<Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t\t\t<TokenLogo\n\t\t\t\t\t\t\t\t\t\t\t\taddress={\n\t\t\t\t\t\t\t\t\t\t\t\t\tallTokens[selectedTokenAddress] &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tallTokens[selectedTokenAddress].symbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? allTokens[selectedTokenAddress].symbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsize={\"100%\"}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Styled.CurrencyLogoContainer>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{allTokens[selectedTokenAddress] && allTokens[selectedTokenAddress].symbol ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-stretch flex-column flex-grow-1 text-align-left\">\n\t\t\t\t\t\t\t\t\t\t\t<Styled.TokenSymbol>\n\t\t\t\t\t\t\t\t\t\t\t\t{allTokens[selectedTokenAddress].symbol}\n\t\t\t\t\t\t\t\t\t\t\t</Styled.TokenSymbol>\n\t\t\t\t\t\t\t\t\t\t\t<Styled.TokenName>{allTokens[selectedTokenAddress].name}</Styled.TokenName>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tt(\"selectToken\")\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!disableCurrencySelect && <Styled.CustomDropDown />}\n\t\t\t\t\t\t</Styled.Aligner>\n\t\t\t\t\t</Styled.CurrencySelect>\n\t\t\t\t</Styled.InputRow>\n\t\t\t</div>\n\t\t\t{!disableCurrencySelect && onCurrencySelect && (\n\t\t\t\t<CurrencySearchModal\n\t\t\t\t\tisOpen={modalIsOpen}\n\t\t\t\t\tonDismiss={handleDismissSearch}\n\t\t\t\t\tonTokenSelect={onCurrencySelect}\n\t\t\t\t\tselectedCurrency={currency}\n\t\t\t\t\tselfUseAllToken={selfUseAllToken}\n\t\t\t\t\tisSelfSymbol={isSelfSymbol}\n\t\t\t\t\totherSelectedCurrency={otherCurrency}\n\t\t\t\t\tshowCommonBases={showCommonBases}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Styled.InputPanel>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/path.1cff2142.svg\";","import styled from \"styled-components\";\nimport { Button as BS } from \"react-bootstrap\";\n\nexport const Button = styled(BS)`\n\theight: 48px;\n\tmin-height: 48px;\n\tmin-width: 125px;\n`;\n\nexport const Wrapper = styled.div`\n\t${({ theme }) => theme.flexColumnNoWrap}\n\tmargin: 0;\n\tpadding: 0;\n\twidth: 100%;\n\tbackground-color: ${({ theme }) => theme.bg1};\n`;\n\nexport const HeaderRow = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\tpadding: 1.5rem 1.5rem;\n\tfont-weight: 500;\n\tcolor: ${(props) => (props.color === \"blue\" ? ({ theme }) => theme.primary : \"inherit\")};\n\t${({ theme }) => theme.mediaWidth.upToMedium`\n        padding: 1rem;\n    `};\n`;\n\nexport const HoverText = styled.div`\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n`;\n\nexport const ContentWrapper = styled.div`\n\twidth: 100%;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tpadding: 2rem;\n\t${({ theme }) => theme.mediaWidth.upToMedium`padding: 1rem`};\n`;\n\nexport const UpperSection = styled.div`\n\tposition: relative;\n\twidth: 100%;\n\n\th5 {\n\t\tmargin: 0 0 0.5rem;\n\t\tfont-size: 1rem;\n\t\tfont-weight: 400;\n\n\t\t&:last-child {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n\n\th4 {\n\t\tmargin-top: 0;\n\t\tfont-weight: 500;\n\t}\n`;\n\nexport const LogoBox = styled.div`\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\twidth: 46px;\n\theight: 46px;\n\tobject-fit: contain;\n\tbox-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n\tborder: solid 0.5px rgba(0, 0, 0, 0.1);\n\tborder-radius: 100%;\n\tmargin: auto;\n\n\timg {\n\t\theight: 24px;\n\t\twidth: 24px;\n\t\tdisplay: block;\n\t}\n`;\n\nexport const ErrorTip = styled.div`\n\ttext-align: center;\n`;\n\nexport const ConfirmContent = styled.div`\n\twidth: 100%;\n`;\n\nexport const TxnsInfoText = styled.div`\n\tfont-size: 22px;\n\tfont-weight: 500;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: 1;\n\tletter-spacing: -0.0625rem;\n\ttext-align: center;\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin-top: 1rem;\n`;\n\nexport const ConfirmText = styled.div`\n\twidth: 100%;\n\tfont-size: 0.75rem;\n\tfont-weight: bold;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: 1;\n\tletter-spacing: normal;\n\ttext-align: center;\n\tcolor: #734be2;\n\tpadding: 1.25rem 0;\n\tborder-top: 0.0625rem solid rgba(0, 0, 0, 0.08);\n\tmargin-top: 1.25rem;\n`;\n\nexport const ButtonConfirm = styled(Button)`\n\tmax-width: 272px;\n\theight: 48px;\n\tline-height: 1;\n\tmargin: auto;\n\tfont-size: 1rem;\n`;\n","import { useTranslation } from \"react-i18next\";\nimport { Modal } from \"../Modal/bootstrap\";\nimport TokenLogo from \"../Logo/CrossTokenLogo\";\nimport PathIcon from \"../../assets/images/icon/path.svg\";\nimport * as Styled from \"./styleds\";\n\nexport type HardwareTipsProps = {\n\tHardwareTipOpen: any;\n\tcloseHardwareTip: () => void;\n\terror: boolean;\n\ttxnsInfo: any;\n\tonSure: () => void;\n\tisSelfBtn: boolean;\n\ttitle: any;\n\ttipInfo: any;\n\tcoin: any;\n};\n\nconst HardwareTips = ({\n\tHardwareTipOpen,\n\tcloseHardwareTip = () => {},\n\terror = false,\n\ttxnsInfo,\n\tonSure = () => {},\n\tisSelfBtn = false,\n\ttitle,\n\ttipInfo,\n\tcoin,\n}: HardwareTipsProps) => {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Modal show={HardwareTipOpen} onHide={closeHardwareTip} centered={true}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{error ? \"Error\" : title ? title : t(\"ConfirmTransaction\")}</Modal.Title>\n\t\t\t</Modal.Header>\n\n\t\t\t<Styled.Wrapper>\n\t\t\t\t<Styled.UpperSection>\n\t\t\t\t\t<Styled.HeaderRow>\n\t\t\t\t\t\t<Styled.HoverText>{error ? \"Error\" : title ? title : \"Confirm Transaction\"}</Styled.HoverText>\n\t\t\t\t\t</Styled.HeaderRow>\n\n\t\t\t\t\t<Styled.ContentWrapper>\n\t\t\t\t\t\t<Styled.LogoBox>\n\t\t\t\t\t\t\t{coin ? <TokenLogo address={coin} size={\"24px\"} /> : <img src={PathIcon} alt={\"logo\"} />}\n\t\t\t\t\t\t</Styled.LogoBox>\n\n\t\t\t\t\t\t{error ? (\n\t\t\t\t\t\t\t<Styled.ErrorTip>\n\t\t\t\t\t\t\t\t<h3>Sign Failed!</h3>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tPlease make sure your Ledger unlocked, open Ethereum app with contract data setting\n\t\t\t\t\t\t\t\t\tallowed\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Styled.ErrorTip>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Styled.ConfirmContent>\n\t\t\t\t\t\t\t\t{txnsInfo && <Styled.TxnsInfoText>{txnsInfo}</Styled.TxnsInfoText>}\n\n\t\t\t\t\t\t\t\t<Styled.ConfirmText>\n\t\t\t\t\t\t\t\t\t{tipInfo ? tipInfo : \"Please confirm transaction on your Ledger\"}\n\t\t\t\t\t\t\t\t</Styled.ConfirmText>\n\t\t\t\t\t\t\t</Styled.ConfirmContent>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{isSelfBtn && (\n\t\t\t\t\t\t\t<Styled.ButtonConfirm onClick={onSure} variant={\"primary\"}>\n\t\t\t\t\t\t\t\tConfirm\n\t\t\t\t\t\t\t</Styled.ButtonConfirm>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Styled.ContentWrapper>\n\t\t\t\t</Styled.UpperSection>\n\t\t\t</Styled.Wrapper>\n\t\t</Modal>\n\t);\n};\n\nexport default HardwareTips;\n","import { Alert, Button } from \"react-bootstrap\";\n\nexport interface PureWarningTipProps {\n\tmessage: string;\n\tshow?: boolean;\n\tonDismiss?: () => void;\n}\n\nexport const PureWarningTip = ({ message, show = true, onDismiss }: PureWarningTipProps) => {\n\treturn (\n\t\t<Alert show={show} variant=\"warning\">\n\t\t\t<div className=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t<p className=\"mb-0\">{message}</p>\n\n\t\t\t\t<Button onClick={onDismiss} variant=\"warning\">\n\t\t\t\t\tAgree\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Alert>\n\t);\n};\n","// import { useBetaMessageManager } from \"../../contexts/LocalStorage\";\nimport { PureWarningTip } from \"./WarningTip\";\n\nconst WarningTip = () => {\n\t// TODO: fix state\n\t// const [showBetaMessage, dismissBetaMessage] = useBetaMessageManager();\n\tconst showBetaMessage = true;\n\tconst dismissBetaMessage = () => alert(\"dismiss\");\n\n\treturn (\n\t\t<PureWarningTip\n\t\t\tmessage={\"This project is in Beta. Use at your own risk.\"}\n\t\t\tshow={showBetaMessage}\n\t\t\tonDismiss={dismissBetaMessage}\n\t\t/>\n\t);\n};\n\nexport default WarningTip;\n","import styled from \"styled-components\";\nimport { Row, Col, Button as BS, ListGroup } from \"react-bootstrap\";\nimport SVG from \"react-inlinesvg\";\nimport { ETHER } from \"@uniswap/sdk\";\nimport { useCallback, useEffect, useReducer, useState } from \"react\";\n\nimport EXCHANGE_ABI from \"../../constants/abis/exchange.json\";\nimport Page from \"../../components/Page\";\nimport DefaultCard from \"../../components/Card\";\nimport BridgeInputPanel from \"../../components/BridgeInputPanel\";\nimport SwapIcon from \"../../assets/images/cross/swap.svg\";\nimport AddressInputPanel from \"../../components/AddressInputPanel\";\nimport BigNumber from \"bignumber.js\";\nimport { brokenTokens, ZERO } from \"../../constants\";\nimport getNetConfig from \"../../config\";\nimport { useTranslation } from \"react-i18next\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { useBetaMessageManager } from \"../../contexts/LocalStorage\";\nimport { amountFormatter, getAllQueryParams, useExchangeContract } from \"../../utils/cross\";\nimport { useTransactionAdder } from \"../../state/transactions/hooks\";\nimport { INITIAL_TOKENS_CONTEXT, useTokenDetails } from \"../../contexts/Tokens\";\nimport { useAddressAllowance } from \"../../contexts/Allowances\";\nimport { useAddressBalance, useExchangeReserves } from \"../../contexts/Balances\";\nimport { ethers } from \"ethers\";\nimport { getWeb3BaseInfo, getWeb3ConTract } from \"../../utils/web3/txns\";\nimport { recordTxns } from \"../../utils/record\";\nimport { isAddress } from \"../../utils\";\nimport { useWalletModalToggle } from \"../../state/application/hooks\";\nimport HardwareTips from \"../../components/HardwareTips\";\nimport { Modal as BSModal } from \"../../components/Modal/bootstrap\";\nimport WarningTip from \"../../components/WarningTip\";\nimport { toast } from \"react-hot-toast\";\n\nconst config = getNetConfig();\n\n// const BridgeType = {\n// \t\"SWAP\": \"SWAP\",\n// \t\"SEND\": \"SEND\"\n// }\n\nconst Modal = styled(BSModal)`\n\t& .modal-dialog {\n\t\tmax-width: 800px;\n\t}\n\n\t& .modal-body {\n\t\tpadding: 20px 30px 30px;\n\t}\n\t& .modal-header {\n\t\tpadding: 30px;\n\t}\n`;\n\nconst TabButton = styled(BS)`\n\tmin-height: 48px;\n\theight: 48px;\n\tborder-radius: 12px;\n\tfont-weight: 500;\n\tfont-size: 1rem;\n\tmin-width: 127px;\n\n\t@media (max-width: 991px) {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tline-height: 1;\n\t\tfont-size: 0.875rem;\n\t\tmin-height: 40px;\n\t\theight: 40px;\n\t\tpadding: 0;\n\t\tborder-radius: 12px;\n\t\tmin-width: 105px;\n\t}\n`;\n\nconst Button = styled(BS)`\n\tmin-height: 48px;\n\theight: 48px;\n\tmin-width: 205px;\n`;\n\n// const AlertButton = styled(BS)`\n//   min-height: 48px;\n//   height: 48px;\n//   border-radius: 12px;\n//   font-weight: 500;\n//   min-width: 105px;\n// `\n\nconst Title = styled.h1`\n\tmargin: 0;\n\tfont-size: 2.5rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n\tline-height: 3rem;\n\n\t@media (max-width: 1199px) {\n\t\tfont-size: 2.25rem;\n\t}\n\t@media (max-width: 991px) {\n\t\tfont-size: 2rem;\n\t\tmargin-bottom: 0.5rem;\n\t}\n\t@media (max-width: 767px) {\n\t\tfont-size: 1.5rem;\n\t}\n`;\n\nconst Header = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tmargin-top: 24px;\n\n\t@media (max-width: 991px) {\n\t\tmargin-top: 10px;\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n`;\n\nconst Card = styled(DefaultCard)`\n\tmargin-bottom: 1rem;\n\n\t& > .card-body {\n\t\tpadding: 36px 64px 24px;\n\n\t\t@media (max-width: 991px) {\n\t\t\tpadding: 24px;\n\t\t}\n\n\t\t@media (max-width: 576px) {\n\t\t\tpadding: 16px;\n\t\t}\n\t}\n`;\n\n// const SlippageCard = styled(DefaultCard)`\n//   margin-bottom: 1rem;\n\n//   & > .card-body {\n//     padding: 0 64px;\n//     min-height: 56px;\n\n//     @media (max-width: 991px) {\n//       padding: 0 24px;\n//     }\n\n//     @media (max-width: 576px) {\n//       padding: 0 16px;\n//     }\n//   }\n// `\n\nconst TabHeader = styled.div`\n\tdisplay: grid;\n\tgrid-column-gap: 25px;\n\tgrid-template-columns: 127px 127px;\n\tborder-radius: 20px;\n\n\t@media (max-width: 991px) {\n\t\tpadding: 8px;\n\t\tbackground-color: ${({ theme }) => theme.modalBG};\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-column-gap: 16px;\n\t\tborder: 1px solid ${({ theme }) => theme.borderColor};\n\t}\n\n\t@media (max-width: 576px) {\n\t\tgrid-template-columns: 1fr;\n\t\tgrid-row-gap: 12px;\n\t\tgrid-column-gap: 0;\n\t}\n`;\n\nconst SwapCurrencies = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 12px;\n\tcursor: pointer;\n\n\t@media (max-width: 576px) {\n\t\tpadding: 8px;\n\t}\n`;\n\nconst SubmitButtonContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tflex-direction: column;\n\tmargin-top: 32px;\n\n\t@media (max-width: 1199px) {\n\t\tmargin-top: 28px;\n\t}\n\n\t@media (max-width: 991px) {\n\t\tmargin-top: 24px;\n\t}\n\n\t@media (max-width: 767px) {\n\t\tmargin-top: 16px;\n\t\talign-items: stretch;\n\t}\n`;\n\n// const AlertContainer = styled.div`\n//   border-radius: 12px;\n//   display: flex;\n//   align-items: center;\n//   justify-content: space-between;\n//   padding: 4px 4px 4px 64px;\n//   background-color: ${({ theme }) => theme.primaryLight};\n\n//   @media (max-width: 1199px) {\n//     padding-left: 48px;\n//   }\n\n//   @media (max-width: 991px) {\n//     padding-left: 36px;\n//   }\n\n//   @media (max-width: 767px) {\n//     padding-left: 16px;\n//   }\n// `\n\n// const AlertText = styled.span`\n//   font-weight: 500;\n//   font-size: 1rem;\n//   color: ${({ theme }) => theme.primary};\n//   line-height: 21px;\n//   padding-right: 1rem;\n// `\n\nconst TransactionInfo = styled.div`\n\tpadding: 0 0 1.5625rem;\n\tborder-bottom: 0.0625rem solid ${({ theme }) => theme.text3};\n\t@media screen and (max-width: 960px) {\n\t\tpadding: 0 0.625rem 0.625rem;\n\t\theight: auto;\n\t}\n`;\n\nconst LastSummaryText = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\tfont-size: 0.75rem;\n\tfont-weight: normal;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: 1.17;\n\tletter-spacing: normal;\n\tcolor: ${({ theme }) => theme.text1};\n\theight: 32px;\n\tmargin-bottom: 0.625rem;\n\n\t.icon {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tpadding: 8px;\n\t\tobject-fit: contain;\n\t\tborder: solid 0.5px ${({ theme }) => theme.text2};\n\t\tbackground-color: ${({ theme }) => theme.text2};\n\t\tborder-radius: 100%;\n\t\tmargin-right: 0.625rem;\n\n\t\timg {\n\t\t\theight: 100%;\n\t\t\tdisplay: block;\n\t\t}\n\t}\n`;\n\nconst ValueWrapper = styled.span`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 0.375rem 0.3rem 0.375rem 0.3rem;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tborder-radius: 1rem;\n\tfont-variant: tabular-nums;\n`;\n\nconst INPUT = 0;\nconst OUTPUT = 1;\nconst ETH_TO_TOKEN = 0;\nconst TOKEN_TO_ETH = 1;\nconst TOKEN_TO_TOKEN = 2;\n\n// denominated in bips\nconst ALLOWED_SLIPPAGE_DEFAULT = 50;\nconst TOKEN_ALLOWED_SLIPPAGE_DEFAULT = 50;\n\n// 15 minutes, denominated in seconds\nconst DEFAULT_DEADLINE_FROM_NOW = 60 * 15;\n\n// % above the calculated gas cost that we actually send, denominated in bips\nconst GAS_MARGIN = new BigNumber(1000);\n\nfunction calculateSlippageBounds(value, token = false, tokenAllowedSlippage, allowedSlippage) {\n\tif (value) {\n\t\tconst offset = value.times(token ? tokenAllowedSlippage : allowedSlippage).dividedBy(new BigNumber(10000));\n\t\tconst minimum = value.minus(offset);\n\t\tconst maximum = value.plus(offset);\n\t\treturn {\n\t\t\tminimum: minimum.lt(ZERO) ? ZERO : new BigNumber(minimum.toFixed(0)),\n\t\t\tmaximum: maximum.gt(new BigNumber(2).pow(256))\n\t\t\t\t? new BigNumber(2).pow(256)\n\t\t\t\t: new BigNumber(maximum.toFixed(0)),\n\t\t};\n\t} else {\n\t\treturn {};\n\t}\n}\n\nfunction getSwapType(inputCurrency, outputCurrency) {\n\tif (!inputCurrency || !outputCurrency) {\n\t\treturn null;\n\t} else if (inputCurrency === config.symbol) {\n\t\treturn ETH_TO_TOKEN;\n\t} else if (outputCurrency === config.symbol) {\n\t\treturn TOKEN_TO_ETH;\n\t} else {\n\t\treturn TOKEN_TO_TOKEN;\n\t}\n}\n\n// this mocks the getInputPrice function, and calculates the required output\nfunction calculateEtherTokenOutputFromInput(inputAmount, inputReserve, outputReserve) {\n\tconst inputAmountWithFee = inputAmount.times(new BigNumber(997));\n\tconst numerator = inputAmountWithFee.times(outputReserve);\n\tconst denominator = inputReserve.times(new BigNumber(1000)).plus(inputAmountWithFee);\n\treturn numerator.dividedBy(denominator);\n}\n\n// this mocks the getOutputPrice function, and calculates the required input\nfunction calculateEtherTokenInputFromOutput(outputAmount, inputReserve, outputReserve) {\n\tconst numerator = inputReserve.times(outputAmount).times(new BigNumber(1000));\n\tconst denominator = outputReserve.minus(outputAmount).times(new BigNumber(997));\n\treturn numerator.dividedBy(denominator).plus(new BigNumber(1));\n}\n\nfunction getInitialSwapState(state) {\n\treturn {\n\t\tindependentValue: state.exactFieldURL && state.exactAmountURL ? state.exactAmountURL : \"\", // this is a user input\n\t\tdependentValue: \"\", // this is a calculated number\n\t\tindependentField: state.exactFieldURL === \"output\" ? OUTPUT : INPUT,\n\t\tinputCurrency: state.inputCurrencyURL\n\t\t\t? state.inputCurrencyURL\n\t\t\t: state.outputCurrencyURL === config.symbol\n\t\t\t? \"\"\n\t\t\t: config.symbol,\n\t\toutputCurrency: state.outputCurrencyURL\n\t\t\t? state.outputCurrencyURL === config.symbol\n\t\t\t\t? !state.inputCurrencyURL || (state.inputCurrencyURL && state.inputCurrencyURL !== config.symbol)\n\t\t\t\t\t? config.symbol\n\t\t\t\t\t: \"\"\n\t\t\t\t: state.outputCurrencyURL\n\t\t\t: state.initialCurrency\n\t\t\t? state.initialCurrency\n\t\t\t: config.initToken,\n\t};\n}\n\nfunction swapStateReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"FLIP_INDEPENDENT\": {\n\t\t\tconst { independentField, inputCurrency, outputCurrency } = state;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdependentValue: \"\",\n\t\t\t\tindependentField: independentField === INPUT ? OUTPUT : INPUT,\n\t\t\t\tinputCurrency: outputCurrency,\n\t\t\t\toutputCurrency: inputCurrency,\n\t\t\t};\n\t\t}\n\t\tcase \"SELECT_CURRENCY\": {\n\t\t\tconst { inputCurrency, outputCurrency } = state;\n\t\t\tconst { field, currency } = action.payload;\n\n\t\t\tconst newInputCurrency = field === INPUT ? currency : inputCurrency;\n\t\t\tconst newOutputCurrency = field === OUTPUT ? currency : outputCurrency;\n\n\t\t\tif (newInputCurrency === newOutputCurrency) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tinputCurrency: field === INPUT ? currency : \"\",\n\t\t\t\t\toutputCurrency: field === OUTPUT ? currency : \"\",\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tinputCurrency: newInputCurrency,\n\t\t\t\t\toutputCurrency: newOutputCurrency,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\tcase \"UPDATE_INDEPENDENT\": {\n\t\t\tconst { field, value } = action.payload;\n\t\t\tconst { dependentValue, independentValue } = state;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tindependentValue: value,\n\t\t\t\tdependentValue: value === independentValue ? dependentValue : \"\",\n\t\t\t\tindependentField: field,\n\t\t\t};\n\t\t}\n\t\tcase \"UPDATE_DEPENDENT\": {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdependentValue: action.payload,\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn getInitialSwapState();\n\t\t}\n\t}\n}\n\nfunction getExchangeRate(inputValue, inputDecimals, outputValue, outputDecimals, invert = false) {\n\ttry {\n\t\tif (\n\t\t\tinputValue &&\n\t\t\t(inputDecimals || inputDecimals === 0) &&\n\t\t\toutputValue &&\n\t\t\t(outputDecimals || outputDecimals === 0)\n\t\t) {\n\t\t\tconst factor = new BigNumber(10).pow(new BigNumber(18));\n\t\t\tif (invert) {\n\t\t\t\treturn inputValue\n\t\t\t\t\t.times(factor)\n\t\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(outputDecimals)))\n\t\t\t\t\t.dividedBy(new BigNumber(10).pow(new BigNumber(inputDecimals)))\n\t\t\t\t\t.dividedBy(outputValue);\n\t\t\t} else {\n\t\t\t\treturn outputValue\n\t\t\t\t\t.times(factor)\n\t\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(inputDecimals)))\n\t\t\t\t\t.dividedBy(new BigNumber(10).pow(new BigNumber(outputDecimals)))\n\t\t\t\t\t.dividedBy(inputValue);\n\t\t\t}\n\t\t}\n\t} catch {}\n}\n\nfunction calculateGasMargin(value, margin) {\n\tconst offset = value.times(margin).dividedBy(new BigNumber(10000));\n\treturn value.plus(offset);\n}\n\nfunction getMarketRate(\n\tswapType,\n\tinputReserveETH,\n\tinputReserveToken,\n\tinputDecimals,\n\toutputReserveETH,\n\toutputReserveToken,\n\toutputDecimals,\n\tinvert = false\n) {\n\tif (swapType === ETH_TO_TOKEN) {\n\t\treturn getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals, invert);\n\t} else if (swapType === TOKEN_TO_ETH) {\n\t\treturn getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18, invert);\n\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\tconst factor = new BigNumber(10).pow(new BigNumber(18));\n\t\tconst firstRate = getExchangeRate(inputReserveToken, inputDecimals, inputReserveETH, 18);\n\t\tconst secondRate = getExchangeRate(outputReserveETH, 18, outputReserveToken, outputDecimals);\n\t\ttry {\n\t\t\treturn !!(firstRate && secondRate) ? firstRate.times(secondRate).dividedBy(factor) : undefined;\n\t\t} catch {}\n\t}\n}\n\nconst CrossAnySwap = (props) => {\n\t// @todo: remove old data\n\tconst [inputCurrencySwap, setInputCurrency] = useState(ETHER);\n\tconst [outputCurrencySwap, setOutputCurrency] = useState(undefined);\n\n\tconst { t } = useTranslation();\n\tconst { account, chainId, error } = useActiveWeb3React();\n\tconst [showBetaMessage] = useBetaMessageManager();\n\tlet walletType = sessionStorage.getItem(\"walletType\");\n\n\tlet params = getAllQueryParams();\n\tparams = params ? params : {};\n\n\tconst urlAddedTokens = {};\n\tif (params && params.inputCurrency) {\n\t\turlAddedTokens[params.inputCurrency] = true;\n\t}\n\tif (params && params.outputCurrency) {\n\t\turlAddedTokens[params.outputCurrency] = true;\n\t}\n\tif (params && params.tokenAddress) {\n\t\turlAddedTokens[params.tokenAddress] = true;\n\t}\n\n\tconst addTransaction = useTransactionAdder();\n\n\tconst initialSlippage = (token = false) => {\n\t\tlet slippage = Number.parseInt(params.slippage);\n\t\tif (!isNaN(slippage) && (slippage === 0 || slippage >= 1)) {\n\t\t\treturn slippage; // round to match custom input availability\n\t\t}\n\t\t// check for token <-> token slippage option\n\t\treturn token ? TOKEN_ALLOWED_SLIPPAGE_DEFAULT : ALLOWED_SLIPPAGE_DEFAULT;\n\t};\n\tconst initialRecipient = () => {\n\t\tif (sending && params.recipient) {\n\t\t\treturn params.recipient;\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tconst [sending, setSending] = useState(false);\n\n\tconst [brokenTokenWarning, setBrokenTokenWarning] = useState();\n\n\tconst [deadlineFromNow, setDeadlineFromNow] = useState(DEFAULT_DEADLINE_FROM_NOW);\n\n\tconst [rawSlippage, setRawSlippage] = useState(() => initialSlippage());\n\tconst [rawTokenSlippage, setRawTokenSlippage] = useState(() => initialSlippage(true));\n\n\tconst [slippageView, setSlippageView] = useState(false);\n\n\tconst allowedSlippageBig = new BigNumber(rawSlippage);\n\tconst tokenAllowedSlippageBig = new BigNumber(rawTokenSlippage);\n\n\tconst [swapState, dispatchSwapState] = useReducer(\n\t\tswapStateReducer,\n\t\t{\n\t\t\tinitialCurrency: undefined,\n\t\t\tinputCurrencyURL: params.inputCurrency,\n\t\t\toutputCurrencyURL: params.outputCurrency || params.tokenAddress,\n\t\t\texactFieldURL: params.exactField,\n\t\t\texactAmountURL: params.exactAmount,\n\t\t},\n\t\tgetInitialSwapState\n\t);\n\n\tconst { independentValue, dependentValue, independentField, inputCurrency, outputCurrency } = swapState;\n\n\tuseEffect(() => {\n\t\tsetBrokenTokenWarning(false);\n\t\tfor (let i = 0; i < brokenTokens.length; i++) {\n\t\t\tif (\n\t\t\t\tbrokenTokens[i].toLowerCase() === outputCurrency.toLowerCase() ||\n\t\t\t\tbrokenTokens[i].toLowerCase() === inputCurrency.toLowerCase()\n\t\t\t) {\n\t\t\t\tsetBrokenTokenWarning(true);\n\t\t\t}\n\t\t}\n\t}, [outputCurrency, inputCurrency]);\n\n\tconst [recipient, setRecipient] = useState({\n\t\taddress: initialRecipient(),\n\t\tname: \"\",\n\t});\n\tconst [recipientError, setRecipientError] = useState(null);\n\n\t// get swap type from the currency types\n\tconst swapType = getSwapType(inputCurrency, outputCurrency);\n\n\t// get decimals and exchange address for each of the currency types\n\tconst {\n\t\tsymbol: inputSymbol,\n\t\tdecimals: inputDecimals,\n\t\texchangeAddress: inputExchangeAddress,\n\t\tisSwitch: inputIsSwitch,\n\t} = useTokenDetails(inputCurrency);\n\tconst {\n\t\tsymbol: outputSymbol,\n\t\tdecimals: outputDecimals,\n\t\texchangeAddress: outputExchangeAddress,\n\t\tisSwitch: outputIsSwitch,\n\t} = useTokenDetails(outputCurrency);\n\n\tconst inputExchangeContract = useExchangeContract(inputExchangeAddress);\n\tconst outputExchangeContract = useExchangeContract(outputExchangeAddress);\n\tconst contract = swapType === ETH_TO_TOKEN ? outputExchangeContract : inputExchangeContract;\n\n\t// get input allowance\n\tconst inputAllowance = useAddressAllowance(account, inputCurrency, inputExchangeAddress);\n\n\t// fetch reserves for each of the currency types\n\tconst { reserveETH: inputReserveETH, reserveToken: inputReserveToken } = useExchangeReserves(inputCurrency);\n\tconst { reserveETH: outputReserveETH, reserveToken: outputReserveToken } = useExchangeReserves(outputCurrency);\n\n\t// get balances for each of the currency types\n\tconst inputBalance = useAddressBalance(account, inputCurrency);\n\tconst outputBalance = useAddressBalance(account, outputCurrency);\n\tconst inputBalanceFormatted = !!(inputBalance && Number.isInteger(inputDecimals))\n\t\t? amountFormatter(inputBalance, inputDecimals, Math.min(6, inputDecimals))\n\t\t: \"\";\n\tconst outputBalanceFormatted = !!(outputBalance && Number.isInteger(outputDecimals))\n\t\t? amountFormatter(outputBalance, outputDecimals, Math.min(6, outputDecimals))\n\t\t: \"\";\n\n\t// compute useful transforms of the data above\n\tconst independentDecimals = independentField === INPUT ? inputDecimals : outputDecimals;\n\tconst dependentDecimals = independentField === OUTPUT ? inputDecimals : outputDecimals;\n\n\t// declare/get parsed and formatted versions of input/output values\n\tconst [independentValueParsed, setIndependentValueParsed] = useState();\n\tconst dependentValueFormatted = !!(dependentValue && (dependentDecimals || dependentDecimals === 0))\n\t\t? amountFormatter(dependentValue, dependentDecimals, dependentDecimals, false)\n\t\t: // ? amountFormatter(dependentValue, dependentDecimals, Math.min(6, dependentDecimals), false)\n\t\t  \"\";\n\tconst inputValueParsed = independentField === INPUT ? independentValueParsed : dependentValue;\n\tconst outputValueParsed = independentField === OUTPUT ? independentValueParsed : dependentValue;\n\tlet inputValueFormatted = independentField === INPUT ? independentValue : dependentValueFormatted;\n\tlet outputValueFormatted = independentField === OUTPUT ? independentValue : dependentValueFormatted;\n\tif (independentField) {\n\t\tinputValueFormatted *= 1 + 0.001;\n\t\tinputValueFormatted = Number(inputValueFormatted.toFixed(dependentDecimals))\n\t\t\t? Number(inputValueFormatted.toFixed(Math.min(8, dependentDecimals)))\n\t\t\t: \"\";\n\t} else {\n\t\toutputValueFormatted *= 1 - 0.001;\n\t\toutputValueFormatted = Number(outputValueFormatted.toFixed(dependentDecimals))\n\t\t\t? Number(outputValueFormatted.toFixed(Math.min(8, dependentDecimals)))\n\t\t\t: \"\";\n\t}\n\t// validate + parse independent value\n\tconst [independentError, setIndependentError] = useState();\n\tuseEffect(() => {\n\t\tif (independentValue && (independentDecimals || independentDecimals === 0)) {\n\t\t\ttry {\n\t\t\t\tconst parsedValue = new BigNumber(\n\t\t\t\t\tethers.utils.parseUnits(independentValue, independentDecimals).toString()\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\tparsedValue.lte(ethers.constants.Zero.toString()) ||\n\t\t\t\t\tparsedValue.gte(ethers.constants.MaxUint256.toString())\n\t\t\t\t) {\n\t\t\t\t\tthrow Error();\n\t\t\t\t} else {\n\t\t\t\t\tsetIndependentValueParsed(new BigNumber(parsedValue.toFixed(0)));\n\t\t\t\t\tsetIndependentError(null);\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\tsetIndependentError(t(\"inputNotValid\"));\n\t\t\t}\n\n\t\t\treturn () => {\n\t\t\t\tsetIndependentValueParsed();\n\t\t\t\tsetIndependentError();\n\t\t\t};\n\t\t}\n\t}, [independentValue, independentDecimals, t]);\n\n\t// calculate slippage from target rate\n\tconst { minimum: dependentValueMinumum, maximum: dependentValueMaximum } = calculateSlippageBounds(\n\t\tdependentValue,\n\t\tswapType === TOKEN_TO_TOKEN,\n\t\ttokenAllowedSlippageBig,\n\t\tallowedSlippageBig\n\t);\n\n\t// validate input allowance + balance\n\tconst [inputError, setInputError] = useState();\n\tconst [showUnlock, setShowUnlock] = useState(false);\n\tuseEffect(() => {\n\t\tconst inputValueCalculation = independentField === INPUT ? independentValueParsed : dependentValueMaximum;\n\t\tif (inputBalance && (inputAllowance || inputCurrency === config.symbol) && inputValueCalculation) {\n\t\t\tif (inputBalance.lt(inputValueCalculation)) {\n\t\t\t\tsetInputError(\"Insufficient balance\");\n\t\t\t} else if (inputCurrency !== config.symbol && inputAllowance.lt(inputValueCalculation.toFixed(0))) {\n\t\t\t\tsetInputError(\"Approve\");\n\t\t\t\tsetShowUnlock(true);\n\t\t\t} else {\n\t\t\t\tsetInputError(null);\n\t\t\t\tsetShowUnlock(false);\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tsetInputError();\n\t\t\t\tsetShowUnlock(false);\n\t\t\t};\n\t\t}\n\t}, [\n\t\tindependentField,\n\t\tindependentValueParsed,\n\t\tdependentValueMaximum,\n\t\tinputBalance,\n\t\tinputCurrency,\n\t\tinputAllowance,\n\t\tt,\n\t]);\n\n\t// calculate dependent value\n\tuseEffect(() => {\n\t\tconst amount = independentValueParsed;\n\n\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\tconst reserveETH = outputReserveETH;\n\t\t\tconst reserveToken = outputReserveToken;\n\n\t\t\tif (amount && reserveETH && reserveToken) {\n\t\t\t\ttry {\n\t\t\t\t\tconst calculatedDependentValue =\n\t\t\t\t\t\tindependentField === INPUT\n\t\t\t\t\t\t\t? calculateEtherTokenOutputFromInput(amount, reserveETH, reserveToken)\n\t\t\t\t\t\t\t: calculateEtherTokenInputFromOutput(amount, reserveETH, reserveToken);\n\n\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t}\n\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: \"UPDATE_DEPENDENT\",\n\t\t\t\t\t\tpayload: calculatedDependentValue,\n\t\t\t\t\t});\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(t(\"insufficientLiquidity\"));\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: \"UPDATE_DEPENDENT\", payload: \"\" });\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\tconst reserveETH = inputReserveETH;\n\t\t\tconst reserveToken = inputReserveToken;\n\n\t\t\tif (amount && reserveETH && reserveToken) {\n\t\t\t\ttry {\n\t\t\t\t\tconst calculatedDependentValue =\n\t\t\t\t\t\tindependentField === INPUT\n\t\t\t\t\t\t\t? calculateEtherTokenOutputFromInput(amount, reserveToken, reserveETH)\n\t\t\t\t\t\t\t: calculateEtherTokenInputFromOutput(amount, reserveToken, reserveETH);\n\n\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t}\n\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: \"UPDATE_DEPENDENT\",\n\t\t\t\t\t\tpayload: calculatedDependentValue,\n\t\t\t\t\t});\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(t(\"insufficientLiquidity\"));\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: \"UPDATE_DEPENDENT\", payload: \"\" });\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\tconst reserveETHFirst = inputReserveETH;\n\t\t\tconst reserveTokenFirst = inputReserveToken;\n\n\t\t\tconst reserveETHSecond = outputReserveETH;\n\t\t\tconst reserveTokenSecond = outputReserveToken;\n\n\t\t\tif (amount && reserveETHFirst && reserveTokenFirst && reserveETHSecond && reserveTokenSecond) {\n\t\t\t\ttry {\n\t\t\t\t\tif (independentField === INPUT) {\n\t\t\t\t\t\tconst intermediateValue = calculateEtherTokenOutputFromInput(\n\t\t\t\t\t\t\tamount,\n\t\t\t\t\t\t\treserveTokenFirst,\n\t\t\t\t\t\t\treserveETHFirst\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (intermediateValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst calculatedDependentValue = calculateEtherTokenOutputFromInput(\n\t\t\t\t\t\t\tintermediateValue,\n\t\t\t\t\t\t\treserveETHSecond,\n\t\t\t\t\t\t\treserveTokenSecond\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\ttype: \"UPDATE_DEPENDENT\",\n\t\t\t\t\t\t\tpayload: calculatedDependentValue,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst intermediateValue = calculateEtherTokenInputFromOutput(\n\t\t\t\t\t\t\tamount,\n\t\t\t\t\t\t\treserveETHSecond,\n\t\t\t\t\t\t\treserveTokenSecond\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (intermediateValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst calculatedDependentValue = calculateEtherTokenInputFromOutput(\n\t\t\t\t\t\t\tintermediateValue,\n\t\t\t\t\t\t\treserveTokenFirst,\n\t\t\t\t\t\t\treserveETHFirst\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (calculatedDependentValue.lte(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\tthrow Error();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\ttype: \"UPDATE_DEPENDENT\",\n\t\t\t\t\t\t\tpayload: calculatedDependentValue,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch {\n\t\t\t\t\tsetIndependentError(\"Insufficient liquidity\");\n\t\t\t\t}\n\t\t\t\treturn () => {\n\t\t\t\t\tdispatchSwapState({ type: \"UPDATE_DEPENDENT\", payload: \"\" });\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}, [\n\t\tindependentValueParsed,\n\t\tswapType,\n\t\toutputReserveETH,\n\t\toutputReserveToken,\n\t\tinputReserveETH,\n\t\tinputReserveToken,\n\t\tindependentField,\n\t\tt,\n\t]);\n\n\tconst [inverted, setInverted] = useState(false);\n\tconst exchangeRate = getExchangeRate(inputValueParsed, inputDecimals, outputValueParsed, outputDecimals);\n\tconst exchangeRateInverted = getExchangeRate(\n\t\tinputValueParsed,\n\t\tinputDecimals,\n\t\toutputValueParsed,\n\t\toutputDecimals,\n\t\ttrue\n\t);\n\n\tconst marketRate = getMarketRate(\n\t\tswapType,\n\t\tinputReserveETH,\n\t\tinputReserveToken,\n\t\tinputDecimals,\n\t\toutputReserveETH,\n\t\toutputReserveToken,\n\t\toutputDecimals\n\t);\n\n\tconst percentSlippage =\n\t\texchangeRate && marketRate && !marketRate.isZero()\n\t\t\t? exchangeRate\n\t\t\t\t\t.minus(marketRate)\n\t\t\t\t\t.abs()\n\t\t\t\t\t.times(new BigNumber(10).pow(new BigNumber(18)))\n\t\t\t\t\t.dividedBy(marketRate)\n\t\t\t\t\t.minus(new BigNumber(3).times(new BigNumber(10).pow(new BigNumber(15))))\n\t\t\t: undefined;\n\tconst percentSlippageFormatted = percentSlippage && amountFormatter(percentSlippage, 16, 2);\n\tconst slippageWarning =\n\t\tpercentSlippage &&\n\t\tpercentSlippage.gte(ethers.utils.parseEther(\".05\").toString()) &&\n\t\tpercentSlippage.lt(ethers.utils.parseEther(\".2\").toString()); // [5% - 20%)\n\tconst highSlippageWarning = percentSlippage && percentSlippage.gte(ethers.utils.parseEther(\".2\").toString()); // [20+%\n\n\tconst isValid = sending\n\t\t? exchangeRate && inputError === null && independentError === null && recipientError === null && deadlineFromNow\n\t\t: exchangeRate && inputError === null && independentError === null && deadlineFromNow;\n\n\tconst estimatedText = `(${t(\"estimated\")})`;\n\tfunction formatBalance(value) {\n\t\treturn `Balance: ${value}`;\n\t}\n\n\tconst [isDisabled, setIsDisableed] = useState(true);\n\n\tconst onSwapValid = useCallback(() => {\n\t\tif (!isNaN(percentSlippageFormatted) && Number(percentSlippageFormatted) >= 5) {\n\t\t\tsetSlippageView(true);\n\t\t} else {\n\t\t\tonSwap();\n\t\t}\n\t}, [percentSlippageFormatted, onSwap]);\n\n\tasync function onSwap() {\n\t\tif (!isDisabled) return;\n\t\tsetIsDisableed(false);\n\t\tsetTimeout(() => {\n\t\t\tsetIsDisableed(true);\n\t\t}, 3000);\n\t\tconst deadline = Math.ceil(Date.now() / 1000) + deadlineFromNow;\n\n\t\tlet estimate, method, args, value;\n\t\tlet txnsType = sending ? \"SEND\" : \"SWAP\";\n\n\t\t// if (config.supportWallet.includes(walletType)) {\n\t\tif (config.supportWallet.includes(walletType)) {\n\t\t\tsetIsHardwareError(false);\n\t\t\tsetIsHardwareTip(true);\n\t\t\tsetHardwareTxnsInfo(inputValueFormatted + inputSymbol);\n\t\t\tlet contractAddress = swapType === ETH_TO_TOKEN ? outputExchangeAddress : inputExchangeAddress;\n\t\t\tlet web3Contract = getWeb3ConTract(EXCHANGE_ABI, contractAddress);\n\t\t\tlet data = \"\";\n\t\t\tif (independentField === INPUT) {\n\t\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(independentValueParsed).toFixed(0);\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? // web3Contract.ethToTokenTransferInput.getData(dependentValueMinumum.toString(), deadline, recipient.address)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.ethToTokenTransferInput(dependentValueMinumum.toString(), deadline, recipient.address)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: // web3Contract.ethToTokenSwapInput.getData(dependentValueMinumum.toString(), deadline)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.ethToTokenSwapInput(dependentValueMinumum.toString(), deadline)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? // web3Contract.tokenToEthTransferInput.getData(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline, recipient.address)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToEthTransferInput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\trecipient.address\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: // web3Contract.tokenToEthSwapInput.getData(independentValueParsed.toString(), dependentValueMinumum.toString(), deadline)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToEthSwapInput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\t\t\tdeadline\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? // web3Contract.tokenToTokenTransferInput.getData(\n\t\t\t\t\t\t  // independentValueParsed?.toString(),\n\t\t\t\t\t\t  // dependentValueMinumum.toString(),\n\t\t\t\t\t\t  // ethers.constants.One.toHexString(),\n\t\t\t\t\t\t  // deadline,\n\t\t\t\t\t\t  // recipient.address,\n\t\t\t\t\t\t  // outputCurrency)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToTokenTransferInput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\t\t\tethers.constants.One.toHexString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: // web3Contract.tokenToTokenSwapInput.getData(independentValueParsed?.toString(), dependentValueMinumum.toString(), ethers.constants.One.toHexString(), deadline, outputCurrency)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToTokenSwapInput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\t\t\tethers.constants.One.toHexString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t}\n\t\t\t} else if (independentField === OUTPUT) {\n\t\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(dependentValueMaximum.toFixed(0));\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? // web3Contract.ethToTokenTransferOutput.getData(independentValueParsed?.toString(), deadline, recipient.address)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.ethToTokenTransferOutput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\trecipient.address\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: web3Contract.methods\n\t\t\t\t\t\t\t\t.ethToTokenSwapOutput(independentValueParsed?.toString(), deadline)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? // web3Contract.tokenToEthTransferOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline, recipient.address)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToEthTransferOutput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\trecipient.address\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: // web3Contract.tokenToEthSwapOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), deadline)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToEthSwapOutput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\t\t\tdeadline\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t\t\tdata = sending\n\t\t\t\t\t\t? web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToTokenTransferOutput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\t\t\tethers.constants.MaxUint256.toHexString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI()\n\t\t\t\t\t\t: // web3Contract.tokenToTokenSwapOutput.getData(independentValueParsed?.toString(), dependentValueMaximum.toString(), ethers.constants.MaxUint256.toHexString(), deadline, outputCurrency)\n\t\t\t\t\t\t  web3Contract.methods\n\t\t\t\t\t\t\t\t.tokenToTokenSwapOutput(\n\t\t\t\t\t\t\t\t\tindependentValueParsed?.toString(),\n\t\t\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\t\t\tethers.constants.MaxUint256.toHexString(),\n\t\t\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\t\t\toutputCurrency\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.encodeABI();\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = swapType === ETH_TO_TOKEN ? value.toString() : 0;\n\t\t\tgetWeb3BaseInfo(contractAddress, data, account, value).then((res) => {\n\t\t\t\tif (res.msg === \"Success\") {\n\t\t\t\t\taddTransaction(res.info);\n\t\t\t\t\trecordTxns(res.info, txnsType, inputSymbol + \"/\" + outputSymbol, account, recipient.address);\n\t\t\t\t\tsetIsHardwareTip(false);\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\t\tpayload: { value: \"\", field: INPUT },\n\t\t\t\t\t});\n\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\t\tpayload: { value: \"\", field: OUTPUT },\n\t\t\t\t\t});\n\t\t\t\t\tsetIsViewTxnsDtil(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetIsHardwareError(true);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tif (independentField === INPUT) {\n\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.ethToTokenTransferInput\n\t\t\t\t\t: contract.estimateGas.ethToTokenSwapInput;\n\t\t\t\tmethod = sending ? contract.ethToTokenTransferInput : contract.ethToTokenSwapInput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [dependentValueMinumum.toString(), deadline, recipient.address]\n\t\t\t\t\t: [dependentValueMinumum.toString(), deadline];\n\t\t\t\tvalue = new BigNumber(independentValueParsed.toFixed(0));\n\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.tokenToEthTransferInput\n\t\t\t\t\t: contract.estimateGas.tokenToEthSwapInput;\n\t\t\t\tmethod = sending ? contract.tokenToEthTransferInput : contract.tokenToEthSwapInput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [independentValueParsed.toString(), dependentValueMinumum.toString(), deadline, recipient.address]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMinumum.toString(), deadline];\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.tokenToTokenTransferInput\n\t\t\t\t\t: contract.estimateGas.tokenToTokenSwapInput;\n\t\t\t\tmethod = sending ? contract.tokenToTokenTransferInput : contract.tokenToTokenSwapInput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [\n\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\tethers.constants.One,\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\toutputCurrency,\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\tdependentValueMinumum.toString(),\n\t\t\t\t\t\t\tethers.constants.One,\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\toutputCurrency,\n\t\t\t\t\t  ];\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t}\n\t\t} else if (independentField === OUTPUT) {\n\t\t\tif (swapType === ETH_TO_TOKEN) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.ethToTokenTransferOutput\n\t\t\t\t\t: contract.estimateGas.ethToTokenSwapOutput;\n\t\t\t\tmethod = sending ? contract.ethToTokenTransferOutput : contract.ethToTokenSwapOutput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [independentValueParsed.toString(), deadline, recipient.address]\n\t\t\t\t\t: [independentValueParsed.toString(), deadline];\n\t\t\t\tvalue = new BigNumber(dependentValueMaximum.toFixed(0));\n\t\t\t} else if (swapType === TOKEN_TO_ETH) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.tokenToEthTransferOutput\n\t\t\t\t\t: contract.estimateGas.tokenToEthSwapOutput;\n\t\t\t\tmethod = sending ? contract.tokenToEthTransferOutput : contract.tokenToEthSwapOutput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [independentValueParsed.toString(), dependentValueMaximum.toString(), deadline, recipient.address]\n\t\t\t\t\t: [independentValueParsed.toString(), dependentValueMaximum.toString(), deadline];\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t} else if (swapType === TOKEN_TO_TOKEN) {\n\t\t\t\testimate = sending\n\t\t\t\t\t? contract.estimateGas.tokenToTokenTransferOutput\n\t\t\t\t\t: contract.estimateGas.tokenToTokenSwapOutput;\n\t\t\t\tmethod = sending ? contract.tokenToTokenTransferOutput : contract.tokenToTokenSwapOutput;\n\t\t\t\targs = sending\n\t\t\t\t\t? [\n\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\tethers.constants.MaxUint256,\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\trecipient.address,\n\t\t\t\t\t\t\toutputCurrency,\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\tindependentValueParsed.toString(),\n\t\t\t\t\t\t\tdependentValueMaximum.toString(),\n\t\t\t\t\t\t\tethers.constants.MaxUint256,\n\t\t\t\t\t\t\tdeadline,\n\t\t\t\t\t\t\toutputCurrency,\n\t\t\t\t\t  ];\n\t\t\t\tvalue = new BigNumber(ethers.constants.Zero.toString());\n\t\t\t}\n\t\t}\n\n\t\tlet estimatedGasLimit;\n\t\ttry {\n\t\t\testimatedGasLimit = await estimate(...args, { value: value.toFixed(0) });\n\t\t} catch (e) {\n\t\t\tconst errorCode = e?.code;\n\t\t\tif (errorCode === -32000) {\n\t\t\t\ttoast.error(\"Insufficient funds for gas.\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\testimatedGasLimit = new BigNumber(40000);\n\t\t}\n\n\t\tmethod(...args, {\n\t\t\tvalue: value.toFixed(0),\n\t\t\tgasLimit: calculateGasMargin(estimatedGasLimit, GAS_MARGIN).toFixed(0),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\taddTransaction(response);\n\t\t\t\trecordTxns(response, txnsType, inputSymbol + \"/\" + outputSymbol, account, recipient.address);\n\t\t\t\tdispatchSwapState({\n\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\tpayload: { value: \"\", field: INPUT },\n\t\t\t\t});\n\t\t\t\tdispatchSwapState({\n\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\tpayload: { value: \"\", field: OUTPUT },\n\t\t\t\t});\n\t\t\t\tsetIsViewTxnsDtil(false);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t}\n\n\tconst [customSlippageError, setcustomSlippageError] = useState(\"\");\n\n\tconst toggleWalletModal = useWalletModalToggle();\n\n\tconst newInputDetected =\n\t\tinputCurrency !== config.symbol &&\n\t\tinputCurrency &&\n\t\t!INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(inputCurrency);\n\n\tconst newOutputDetected =\n\t\toutputCurrency !== config.symbol &&\n\t\toutputCurrency &&\n\t\t!INITIAL_TOKENS_CONTEXT[chainId].hasOwnProperty(outputCurrency);\n\n\tconst [showInputWarning, setShowInputWarning] = useState(false);\n\tconst [showOutputWarning, setShowOutputWarning] = useState(false);\n\n\tconst [isHardwareTip, setIsHardwareTip] = useState(false);\n\tconst [isHardwareError, setIsHardwareError] = useState(false);\n\tconst [hardwareTxnsInfo, setHardwareTxnsInfo] = useState(\"\");\n\tconst [isViewTxnsDtil, setIsViewTxnsDtil] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (newInputDetected) {\n\t\t\tsetShowInputWarning(true);\n\t\t} else {\n\t\t\tsetShowInputWarning(false);\n\t\t}\n\t}, [newInputDetected, setShowInputWarning]);\n\n\tuseEffect(() => {\n\t\tif (newOutputDetected) {\n\t\t\tsetShowOutputWarning(true);\n\t\t} else {\n\t\t\tsetShowOutputWarning(false);\n\t\t}\n\t}, [newOutputDetected, setShowOutputWarning]);\n\n\tconsole.log(recipientError);\n\n\treturn (\n\t\t<Page networkSensitive={false}>\n\t\t\t<Row>\n\t\t\t\t<Col xs={12} lg={{ span: 8, offset: 2 }}>\n\t\t\t\t\t<ListGroup horizontal className=\"mb-5\">\n\t\t\t\t\t\t<ListGroup.Item action href=\"/#/cross/anyswap\" active>\n\t\t\t\t\t\t\t{t(\"menu.anySwap\")}\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item action href=\"/#/cross/bridges\">\n\t\t\t\t\t\t\t{t(\"menu.bridges\")}\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item action href=\"/#/cross/balance\">\n\t\t\t\t\t\t\t{t(\"menu.crossBalance\")}\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\n\t\t\t\t\t<Header>\n\t\t\t\t\t\t<Title>{!sending ? \"Swap\" : \"Send\"}</Title>\n\n\t\t\t\t\t\t<TabHeader>\n\t\t\t\t\t\t\t<TabButton\n\t\t\t\t\t\t\t\tonClick={setSending?.bind(this, false)}\n\t\t\t\t\t\t\t\tvariant={!sending ? \"primary\" : \"light-primary\"}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSwap\n\t\t\t\t\t\t\t</TabButton>\n\t\t\t\t\t\t\t<TabButton\n\t\t\t\t\t\t\t\tonClick={setSending?.bind(this, true)}\n\t\t\t\t\t\t\t\tvariant={sending ? \"primary\" : \"light-primary\"}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t</TabButton>\n\t\t\t\t\t\t</TabHeader>\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HardwareTips\n\t\t\t\t\t\tHardwareTipOpen={isHardwareTip}\n\t\t\t\t\t\tcloseHardwareTip={() => {\n\t\t\t\t\t\t\tsetIsHardwareTip(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={isHardwareError}\n\t\t\t\t\t\ttxnsInfo={hardwareTxnsInfo}\n\t\t\t\t\t\tcoinType={inputSymbol}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Modal show={slippageView} onHide={setSlippageView.bind(this, false)} centered>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t<TransactionInfo>\n\t\t\t\t\t\t\t\t<LastSummaryText>\n\t\t\t\t\t\t\t\t\t{t(\"youAreSelling\")}{\" \"}\n\t\t\t\t\t\t\t\t\t<ValueWrapper>\n\t\t\t\t\t\t\t\t\t\t{`${amountFormatter(\n\t\t\t\t\t\t\t\t\t\t\tindependentValueParsed,\n\t\t\t\t\t\t\t\t\t\t\tindependentDecimals,\n\t\t\t\t\t\t\t\t\t\t\tMath.min(6, independentDecimals)\n\t\t\t\t\t\t\t\t\t\t)} ${inputSymbol}`}\n\t\t\t\t\t\t\t\t\t</ValueWrapper>{\" \"}\n\t\t\t\t\t\t\t\t\t{t(\"forAtLeast\")}\n\t\t\t\t\t\t\t\t\t<ValueWrapper>\n\t\t\t\t\t\t\t\t\t\t{`${amountFormatter(\n\t\t\t\t\t\t\t\t\t\t\tdependentValueMinumum,\n\t\t\t\t\t\t\t\t\t\t\tdependentDecimals,\n\t\t\t\t\t\t\t\t\t\t\tMath.min(6, dependentDecimals)\n\t\t\t\t\t\t\t\t\t\t)} ${outputSymbol}`}\n\t\t\t\t\t\t\t\t\t</ValueWrapper>\n\t\t\t\t\t\t\t\t</LastSummaryText>\n\t\t\t\t\t\t\t\t<LastSummaryText>\n\t\t\t\t\t\t\t\t\t{t(\"priceChange\")} <ValueWrapper>{`${percentSlippageFormatted}%`}</ValueWrapper>\n\t\t\t\t\t\t\t\t</LastSummaryText>\n\t\t\t\t\t\t\t</TransactionInfo>\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t</Modal>\n\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t<BridgeInputPanel\n\t\t\t\t\t\t\t\t\ttitle={t(\"input\")}\n\t\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\t\tinputValueFormatted && independentField === OUTPUT ? estimatedText : \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\textraText={inputBalanceFormatted && formatBalance(inputBalanceFormatted)}\n\t\t\t\t\t\t\t\t\textraTextClickHander={() => {\n\t\t\t\t\t\t\t\t\t\tif (inputBalance && inputDecimals) {\n\t\t\t\t\t\t\t\t\t\t\tconst valueToSet =\n\t\t\t\t\t\t\t\t\t\t\t\tinputCurrency === config.symbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t? inputBalance.minus(ethers.utils.parseEther(\".1\").toString())\n\t\t\t\t\t\t\t\t\t\t\t\t\t: inputBalance;\n\t\t\t\t\t\t\t\t\t\t\tif (valueToSet.gt(ethers.constants.Zero.toString())) {\n\t\t\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: amountFormatter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueToSet,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputDecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputDecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield: INPUT,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonCurrencySelect={(inputCurrency) => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"SELECT_CURRENCY\",\n\t\t\t\t\t\t\t\t\t\t\tpayload: { currency: inputCurrency, field: INPUT },\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonUserInput={(inputValue) => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\t\t\t\t\t\t\tpayload: { value: inputValue, field: INPUT },\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tshowUnlock={showUnlock}\n\t\t\t\t\t\t\t\t\tselectedTokens={[inputCurrency, outputCurrency]}\n\t\t\t\t\t\t\t\t\tselectedTokenAddress={inputCurrency}\n\t\t\t\t\t\t\t\t\tvalue={inputValueFormatted}\n\t\t\t\t\t\t\t\t\terrorMessage={\n\t\t\t\t\t\t\t\t\t\tinputError ? inputError : independentField === INPUT ? independentError : \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\"Input\"}\n\t\t\t\t\t\t\t\t\twithoutMargin={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={12} className={\"d-flex align-items-center justify-content-center\"}>\n\t\t\t\t\t\t\t\t<SwapCurrencies\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({ type: \"FLIP_INDEPENDENT\" });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SVG src={SwapIcon} width={24} height={24} />\n\t\t\t\t\t\t\t\t</SwapCurrencies>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col xs={12}>\n\t\t\t\t\t\t\t\t<BridgeInputPanel\n\t\t\t\t\t\t\t\t\tlabel={\"Output\"}\n\t\t\t\t\t\t\t\t\tcurrency={outputCurrencySwap}\n\t\t\t\t\t\t\t\t\totherCurrency={inputCurrencySwap}\n\t\t\t\t\t\t\t\t\tid={\"bridge-output-currency\"}\n\t\t\t\t\t\t\t\t\tshowCommonBases={false}\n\t\t\t\t\t\t\t\t\twithoutMargin={true}\n\t\t\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\t\t\toutputValueFormatted && independentField === INPUT ? estimatedText : \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\textraText={outputBalanceFormatted && formatBalance(outputBalanceFormatted)}\n\t\t\t\t\t\t\t\t\turlAddedTokens={urlAddedTokens}\n\t\t\t\t\t\t\t\t\tonCurrencySelect={(outputCurrency) => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"SELECT_CURRENCY\",\n\t\t\t\t\t\t\t\t\t\t\tpayload: { currency: outputCurrency, field: OUTPUT },\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonUserInput={(outputValue) => {\n\t\t\t\t\t\t\t\t\t\tdispatchSwapState({\n\t\t\t\t\t\t\t\t\t\t\ttype: \"UPDATE_INDEPENDENT\",\n\t\t\t\t\t\t\t\t\t\t\tpayload: { value: outputValue, field: OUTPUT },\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tselectedTokens={[inputCurrency, outputCurrency]}\n\t\t\t\t\t\t\t\t\tselectedTokenAddress={outputCurrency}\n\t\t\t\t\t\t\t\t\tvalue={outputValueFormatted}\n\t\t\t\t\t\t\t\t\terrorMessage={independentField === OUTPUT ? independentError : \"\"}\n\t\t\t\t\t\t\t\t\tdisableUnlock\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t{sending ? (\n\t\t\t\t\t\t\t\t<Col xs={12} className={\"pt-4\"}>\n\t\t\t\t\t\t\t\t\t<AddressInputPanel\n\t\t\t\t\t\t\t\t\t\tlabel={\"Recipient Address\"}\n\t\t\t\t\t\t\t\t\t\tvalue={recipient.address}\n\t\t\t\t\t\t\t\t\t\tonChange={(val) => {\n\t\t\t\t\t\t\t\t\t\t\tsetRecipient((r) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t...r,\n\t\t\t\t\t\t\t\t\t\t\t\t\taddress: val,\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t<WarningTip />\n\t\t\t\t\t<SubmitButtonContainer>\n\t\t\t\t\t\t{config.dirSwitchFn(inputIsSwitch) && config.dirSwitchFn(outputIsSwitch) ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant={\"primary\"}\n\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\tbrokenTokenWarning || !isDisabled || showBetaMessage\n\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t: !account && !error\n\t\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t\t: !isValid ||\n\t\t\t\t\t\t\t\t\t\t  customSlippageError === \"invalid\" ||\n\t\t\t\t\t\t\t\t\t\t  (sending && (!recipient.address || !isAddress(recipient.address)))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={account && !error ? onSwapValid : toggleWalletModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{brokenTokenWarning\n\t\t\t\t\t\t\t\t\t? \"Swap\"\n\t\t\t\t\t\t\t\t\t: !account\n\t\t\t\t\t\t\t\t\t? \"Connect wallet\"\n\t\t\t\t\t\t\t\t\t: inputError || independentError\n\t\t\t\t\t\t\t\t\t? inputError || independentError\n\t\t\t\t\t\t\t\t\t: !inputCurrency || !outputCurrency\n\t\t\t\t\t\t\t\t\t? \"Select a token\"\n\t\t\t\t\t\t\t\t\t: !independentValue\n\t\t\t\t\t\t\t\t\t? \"Enter an amount\"\n\t\t\t\t\t\t\t\t\t: sending\n\t\t\t\t\t\t\t\t\t? highSlippageWarning || customSlippageError === \"warning\"\n\t\t\t\t\t\t\t\t\t\t? \"Send anyway\"\n\t\t\t\t\t\t\t\t\t\t: !recipient.address\n\t\t\t\t\t\t\t\t\t\t? \"Enter Recipient\"\n\t\t\t\t\t\t\t\t\t\t: !isAddress(recipient.address)\n\t\t\t\t\t\t\t\t\t\t? \"Invalid Recipient\"\n\t\t\t\t\t\t\t\t\t\t: \"Send\"\n\t\t\t\t\t\t\t\t\t: highSlippageWarning || customSlippageError === \"warning\"\n\t\t\t\t\t\t\t\t\t? \"Swap anyway\"\n\t\t\t\t\t\t\t\t\t: \"Swap\"}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button variant={\"primary\"} disabled={true}>\n\t\t\t\t\t\t\t\tComing soon\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</SubmitButtonContainer>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Page>\n\t);\n};\n\nexport default CrossAnySwap;\n"],"sourceRoot":""}