{"version":3,"sources":["components/ResponsiveTable/index.js","components/ProposalsCard/styleds.tsx","components/ProposalsCard/index.tsx","components/ProposalsCard/ProposalsCard.tsx","pages/Proposals/index.tsx","pages/Proposals/Proposals.tsx"],"names":["Wrapper","styled","div","Header","theme","text3","HeaderTitle","span","text1","HeaderValue","Row","withoutBorder","borderColor2","Field","centered","direction","Desc","size","Value","withPadding","ResponsiveTable","data","columns","breakpoint","props","className","map","row","index","hasOwnProperty","headerIndex","text","formatter","formatExtraData","col","colIndex","notCentered","isAction","dataField","Title","h2","PoolsButton","button","bg1","TradeButton","primary","StyledLink","Link","RowTitle","CellText","NewButton","primaryLight","GradientButton","StatusText","ProposalsTableWrap","bg5","borderColor","ProposalsCard","library","useActiveWeb3React","useState","selectedProposal","setSelectedProposal","dispatch","useDispatch","t","useTranslation","useSelector","state","governance","spaces","governanceLoading","loading","proposals","history","useHistory","location","useLocation","space","useParams","currentSpace","useEffect","Object","keys","length","fetchSpaces","fetchProposals","push","ROUTE_GOVERNANCE","transformProposals","a","result","selected","getScores","strategies","network","values","proposal","address","scores","fromEntries","entries","transformed","assign","score","reduce","b","formatProposals","transformedProposal","sort","msg","payload","end","rowEvents","onClick","e","cellContent","shorten","name","ts","Date","now","toFixed","start","title","responsiveClassName","moment","format","slice","actions","to","pathname","Spinner","animation","variant","id","wrapperClasses","bordered","classes","bootstrap4","remote","keyField","concat","Proposals","Page"],"mappings":"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","file":"static/js/42.84c43022.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Header = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: -15px -15px 20px;\n\tpadding: 20px 16px 15px;\n\tborder-bottom: 1px solid ${({ theme }) => theme.text3};\n`;\n\nconst HeaderTitle = styled.span`\n\tdisplay: block;\n\tmargin-bottom: 1rem;\n\tfont-size: 0.75rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst HeaderValue = styled.span`\n\tdisplay: block;\n\tfont-size: 0.875rem;\n\tfont-weight: 400;\n\tcolor: ${({ theme }) => theme.text1};\n`;\n\nconst Row = styled.div`\n\tborder-radius: 12px;\n\tborder: ${({ withoutBorder, theme }) => (withoutBorder ? \"none\" : `1px solid ${theme.borderColor2}`)};\n\tpadding: ${({ withoutBorder }) => (withoutBorder ? \"0\" : \"1rem\")};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 10px;\n\t}\n`;\n\nconst Field = styled.div`\n\tdisplay: flex;\n\talign-items: ${({ centered }) => (centered ? \"center\" : \"flex-start\")};\n\tjustify-content: ${({ direction }) => (direction !== \"rtl\" ? \"flex-start\" : \"space-between\")};\n\n\t&:not(:last-child) {\n\t\tmargin-bottom: 20px;\n\t}\n`;\n\nconst Desc = styled.span`\n\tfont-size: ${({ size }) => (size === \"lg\" ? \"0.875rem\" : \"0.75rem\")};\n\tfont-weight: 400;\n\tdisplay: flex;\n\tmin-width: 100px;\n`;\n\nconst Value = styled.div`\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: ${({ direction }) => (direction === \"rtl\" ? \"flex-end\" : \"flex-start\")};\n\ttext-align: ${({ direction }) => (direction === \"rtl\" ? \"right\" : \"left\")};\n\tpadding-top: ${({ withPadding }) => (withPadding ? \"12px\" : \"0\")};\n`;\n\nconst ResponsiveTable = ({ data, columns, breakpoint, ...props }) => {\n\treturn (\n\t\t<Wrapper className={`d-flex d-${breakpoint}-none`}>\n\t\t\t{data.map((row, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Row key={`row-${index}`} withoutBorder={props.withoutBorder}>\n\t\t\t\t\t\t{props.hasOwnProperty(\"headerIndex\") && (\n\t\t\t\t\t\t\t<Header>\n\t\t\t\t\t\t\t\t<HeaderTitle>{columns[props.headerIndex].text}</HeaderTitle>\n\t\t\t\t\t\t\t\t<HeaderValue>\n\t\t\t\t\t\t\t\t\t{columns[props.headerIndex].formatter(\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\tcolumns[props.headerIndex].hasOwnProperty(\"formatExtraData\")\n\t\t\t\t\t\t\t\t\t\t\t? columns[props.headerIndex].formatExtraData\n\t\t\t\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</HeaderValue>\n\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{columns.map((col, colIndex) => {\n\t\t\t\t\t\t\tif (props.hasOwnProperty(\"headerIndex\") && colIndex === props.headerIndex) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tkey={col.dataField}\n\t\t\t\t\t\t\t\t\tdirection={props.direction}\n\t\t\t\t\t\t\t\t\tcentered={props.centered && !col.notCentered}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{col.isAction ? (\n\t\t\t\t\t\t\t\t\t\t<Value withPadding direction={props.direction}>\n\t\t\t\t\t\t\t\t\t\t\t{col.formatter(\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\tcol.hasOwnProperty(\"formatExtraData\") ? col.formatExtraData : {}\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Value>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Desc size={props.size}>{col.text}</Desc>\n\t\t\t\t\t\t\t\t\t\t\t<Value direction={props.direction}>\n\t\t\t\t\t\t\t\t\t\t\t\t{col.formatter(\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcol.hasOwnProperty(\"formatExtraData\") ? col.formatExtraData : {}\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Value>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Row>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Wrapper>\n\t);\n};\n\nexport default ResponsiveTable;\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const Header = styled.div`\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 20px;\n\tborder: none;\n\tbackground-color: transparent;\n\n\t@media (max-width: 767px) {\n\t\tflex-direction: column;\n\t\talign-items: stretch;\n\t}\n`;\n\nexport const Title = styled.h2`\n\tfont-size: 1.25rem;\n\tfont-weight: 700;\n\tcolor: ${({ theme }) => theme.text1};\n\tmargin: 0;\n\n\t@media (max-width: 767px) {\n\t\tmargin-bottom: 30px;\n\t}\n`;\n\nexport const PoolsButton = styled.button`\n\tborder-radius: 12px;\n\tbackground-color: ${({ theme }) => theme.bg1};\n\tpadding: 6px 20px;\n\tmax-height: 40px;\n\tmin-height: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twhite-space: nowrap;\n\tfont-size: 1rem;\n\tfont-family: inherit;\n\tfont-weight: 500;\n\tborder: none;\n\toutline: none;\n\ttext-decoration: none;\n\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nexport const TradeButton = styled(PoolsButton)`\n\tcolor: ${({ theme }) => theme.primary};\n\twidth: 100%;\n\n\t&:hover {\n\t\tcolor: ${({ theme }) => theme.bg1};\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t}\n`;\n\nexport const StyledLink = styled(Link)`\n\ttext-decoration: none;\n\t&:hover,\n\t&:focus,\n\t&:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\t}\n`;\n\nexport const RowTitle = styled.span`\n\tfont-size: 1rem;\n\tfont-weight: 400;\n\tline-height: 19px;\n\tcolor: ${({ theme }) => theme.text1};\n\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n`;\n\nexport const CellText = styled.span`\n\tfont-weight: 700;\n\tfont-size: 0.875rem;\n\tcolor: ${({ theme }) => theme.text1};\n\twhite-space: nowrap;\n\n\t@media (max-width: 991px) {\n\t\tfont-weight: 400;\n\t}\n`;\n\nexport const NewButton = styled(Link)`\n\tbackground-color: ${({ theme }) => theme.primaryLight};\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 12px;\n\tcolor: ${({ theme }) => theme.primary};\n\tdisplay: flex;\n\talign-items: center;\n\ttransition: 0.3s ease all;\n\tjustify-content: center;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\tbackground-color: ${({ theme }) => theme.primary};\n\t\tcolor: ${({ theme }) => theme.text1};\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n`;\n\nexport const GradientButton = styled(Link)`\n\theight: 56px;\n\tpadding: 6px 20px;\n\tborder-radius: 12px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-bottom: 20px;\n\n\t:hover,\n\t:focus,\n\t:active {\n\t\ttext-decoration: none;\n\t\toutline: none;\n\t}\n`;\n\nexport const StatusText = styled.span`\n\t@media (max-width: 991px) {\n\t\tfont-size: 0.875rem;\n\t}\n`;\n\nexport const ProposalsTableWrap = styled.div`\n\ttable {\n\n\t\tth {\n\t\t\tbackground-color: ${({ theme }) => theme.bg5};\n\t\t\tcolor: ${({ theme }) => theme.text1};\n\t\t\tfont-size: 0.875rem;\n\t\t\tfont-weight: 500;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\tpadding: 1.25rem 0.75rem;\n\t\t\tmin-height: 56px;\n            border: 0;\n\n\t\t\t&:focus {\n\t\t\t\toutline: none;\n\t\t\t}\n\n\t\t\t&:first-child {\n\t\t\t\tborder-top-left-radius: 12px;\n\t\t\t\tborder-bottom-left-radius: 12px;\n\t\t\t\tpadding: 1.25rem 1.375rem;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tborder-top-right-radius: 12px;\n\t\t\t\tborder-bottom-right-radius: 12px;\n\t\t\t\tpadding: 1.25rem 1.375rem 1.25rem 1.25rem;\n\t\t\t}\n\t\t}\n\n\t\tth,\n\t\ttd {\n            border-top: 0;\n\t\t\tvertical-align: middle !important;\n\n\t\t\t&:first-child {\n\t\t\t\tpadding: 1.25rem 1.375rem;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tpadding: 1.25rem 1.375rem 1.25rem 1.25rem;\n\t\t\t}\n\t\t}\n\n\t\ttd {\n            border-bottom: 1px solid ${({ theme }) => theme.borderColor};\n\t\t\tcursor: pointer;\n\t\t}\n\n        tr:last-child td {\n            border-bottom: 0;\n        }\n\t}\n`;\n","import { ProposalsCard } from \"./ProposalsCard\";\nexport default ProposalsCard;\n","import { useEffect, useState } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport moment from \"moment\";\n\nimport { ROUTE_GOVERNANCE } from \"../../constants/routes\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { formatProposals, getScores } from \"../../lib/utils\";\nimport { fetchProposals, fetchSpaces } from \"../../state/governance/actions\";\nimport { shorten } from \"../../state/governance/hooks\";\nimport { ResponsiveCard } from \"../Card\";\nimport ResponsiveTable from \"../ResponsiveTable\";\nimport * as Styled from \"./styleds\";\n\nexport const ProposalsCard = () => {\n\tconst { library } = useActiveWeb3React();\n\tconst [selectedProposal, setSelectedProposal] = useState({});\n\tconst dispatch = useDispatch();\n\tconst { t } = useTranslation();\n\tconst { spaces, loading: governanceLoading, proposals } = useSelector((state) => state.governance);\n\tconst history = useHistory();\n\tconst location = useLocation();\n\tconst { space } = useParams();\n\tlet currentSpace = spaces[space];\n\n\tuseEffect(() => {\n\t\tif (Object.keys(spaces).length === 0) {\n\t\t\tdispatch(fetchSpaces());\n\t\t} else {\n\t\t\tif (spaces.hasOwnProperty(space)) {\n\t\t\t\tdispatch(fetchProposals(space));\n\t\t\t} else {\n\t\t\t\thistory.push(ROUTE_GOVERNANCE);\n\t\t\t}\n\t\t}\n\t}, [spaces, space, history]);\n\n\tconst transformProposals = async (proposals, space) => {\n\t\tif (proposals.hasOwnProperty(space)) {\n\t\t\tlet result = {};\n\t\t\tconst selected = proposals[space];\n\t\t\tconst scores = await getScores(\n\t\t\t\tspace,\n\t\t\t\tcurrentSpace.strategies,\n\t\t\t\tcurrentSpace.network,\n\t\t\t\tlibrary,\n\t\t\t\tObject.values(selected).map((proposal) => proposal.address)\n\t\t\t);\n\t\t\tresult = Object.fromEntries(\n\t\t\t\tObject.entries(selected).map((proposal) => {\n\t\t\t\t\tconst transformed = [proposal[0], Object.assign({}, proposal[1])];\n\t\t\t\t\ttransformed[1].score = scores.reduce((a, b) => a + (b[transformed[1].address] || 0), 0);\n\t\t\t\t\treturn [transformed[0], transformed[1]];\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tresult = formatProposals(result);\n\t\t\tconst transformedProposal = Object.fromEntries(\n\t\t\t\tObject.entries(result).sort((a, b) => b[1].msg.payload.end - a[1].msg.payload.end, 0)\n\t\t\t);\n\t\t\tsetSelectedProposal(transformedProposal);\n\t\t} else {\n\t\t\tsetSelectedProposal({});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\ttransformProposals(proposals, space);\n\t}, [proposals, space]);\n\n\tconst rowEvents = {\n\t\tonClick: (e: any, row: any) => {\n\t\t\thistory.push(`${ROUTE_GOVERNANCE}/${space}/proposal/${row[0]}`);\n\t\t},\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\tdataField: \"asset\",\n\t\t\ttext: t(\"description\"),\n\t\t\tformatter: (cellContent: any, row: any) => (\n\t\t\t\t<Styled.RowTitle>{shorten(row[1].msg.payload.name, \"name\")}</Styled.RowTitle>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tdataField: \"status\",\n\t\t\ttext: t(\"status\"),\n\t\t\tformatter(cellContent: any, row: any) {\n\t\t\t\tconst ts = (Date.now() / 1e3).toFixed();\n\t\t\t\tconst { start, end } = row[1].msg.payload;\n\t\t\t\tlet state =\n\t\t\t\t\tts > end\n\t\t\t\t\t\t? { title: \"Closed\", className: \"label-light-danger\", responsiveClassName: \"text-danger\" }\n\t\t\t\t\t\t: ts > start\n\t\t\t\t\t\t? { title: \"Active\", className: \"label-light-success\", responsiveClassName: \"text-success\" }\n\t\t\t\t\t\t: { title: \"Pending\", className: \"label-light-info\", responsiveClassName: \"text-info\" };\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className={`label ${state.className} label-lg d-none d-lg-flex w-100 label-inline py-3`}>\n\t\t\t\t\t\t\t{state.title}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<Styled.StatusText className={`d-flex d-lg-none ${state.responsiveClassName}`}>\n\t\t\t\t\t\t\t{state.title}\n\t\t\t\t\t\t</Styled.StatusText>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"start\",\n\t\t\ttext: t(\"startDate\"),\n\t\t\tformatter(cellContent: any, row: any) {\n\t\t\t\treturn (\n\t\t\t\t\t<Styled.CellText>\n\t\t\t\t\t\t{moment(row[1].msg.payload.start * 1e3).format(\"YYYY/MM/DD HH:mm\")}\n\t\t\t\t\t</Styled.CellText>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"end\",\n\t\t\ttext: t(\"endDate\"),\n\t\t\tformatter(cellContent: any, row: any) {\n\t\t\t\treturn (\n\t\t\t\t\t<Styled.CellText>{moment(row[1].msg.payload.end * 1e3).format(\"YYYY/MM/DD HH:mm\")}</Styled.CellText>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tdataField: \"author\",\n\t\t\ttext: t(\"author\"),\n\t\t\tformatter(cellContent: any, row: any) {\n\t\t\t\treturn (\n\t\t\t\t\t<Styled.CellText>\n\t\t\t\t\t\t{row[1].address.slice(0, 6)}...{row[1].address.slice(-4)}\n\t\t\t\t\t</Styled.CellText>\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t];\n\n\tconst actions = {\n\t\tdataField: \"actions\",\n\t\ttext: t(\"table.actions\"),\n\t\tformatter(cellContent: any, row: any) {\n\t\t\treturn (\n\t\t\t\t<div className=\"d-flex flex-column align-items-stretch align-items-lg-center justify-content-center w-100\">\n\t\t\t\t\t<Styled.StyledLink to={`/governance/${space}/proposal/${row[0]}`}>\n\t\t\t\t\t\t<Styled.TradeButton>{t(\"viewMore\")}</Styled.TradeButton>\n\t\t\t\t\t</Styled.StyledLink>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tisAction: true,\n\t};\n\n\treturn (\n\t\t<ResponsiveCard>\n\t\t\t<Styled.Header>\n\t\t\t\t<Styled.Title className=\"card-title\">{t(\"governance.proposals\")}</Styled.Title>\n\t\t\t\t<Styled.NewButton to={`${location.pathname}/create`} className=\"bg-light-primary d-none d-md-flex\">\n\t\t\t\t\t{t(\"createNew\")}\n\t\t\t\t</Styled.NewButton>\n\t\t\t\t<Styled.GradientButton\n\t\t\t\t\tto={`${location.pathname}/create`}\n\t\t\t\t\tclassName=\" btn btn-primary btn-gradient-primary d-flex d-md-none\"\n\t\t\t\t>\n\t\t\t\t\t{t(\"createNew\")}\n\t\t\t\t</Styled.GradientButton>\n\t\t\t</Styled.Header>\n\t\t\t<div>\n\t\t\t\t{governanceLoading ? (\n\t\t\t\t\t<div className=\"d-flex align-items-center justify-content-center py-5 w-100\">\n\t\t\t\t\t\t<Spinner animation=\"border\" variant=\"primary\" id=\"proposals\" />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Styled.ProposalsTableWrap>\n\t\t\t\t\t\t\t<BootstrapTable\n\t\t\t\t\t\t\t\twrapperClasses=\"table-responsive d-none d-lg-block\"\n\t\t\t\t\t\t\t\tbordered={false}\n\t\t\t\t\t\t\t\tclasses=\"table table-head-custom table-vertical-center overflow-hidden table-hover\"\n\t\t\t\t\t\t\t\tbootstrap4\n\t\t\t\t\t\t\t\tremote\n\t\t\t\t\t\t\t\tkeyField=\"id\"\n\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\tdata={Object.entries(selectedProposal)}\n\t\t\t\t\t\t\t\trowEvents={rowEvents}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Styled.ProposalsTableWrap>\n\t\t\t\t\t\t<ResponsiveTable\n\t\t\t\t\t\t\tbreakpoint={\"lg\"}\n\t\t\t\t\t\t\tdirection={\"rtl\"}\n\t\t\t\t\t\t\tcolumns={columns.concat(actions)}\n\t\t\t\t\t\t\tdata={Object.entries(selectedProposal)}\n\t\t\t\t\t\t\theaderIndex={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ResponsiveCard>\n\t);\n};\n","import { Proposals } from \"./Proposals\";\nexport default Proposals;\n","import { useTranslation } from \"react-i18next\";\nimport Page from \"../../components/Page\";\nimport ProposalsCard from \"../../components/ProposalsCard\";\n\nexport const Proposals = () => {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Page title={t(\"governance.title\")}>\n\t\t\t<ProposalsCard />\n\t\t</Page>\n\t);\n};\n"],"sourceRoot":""}